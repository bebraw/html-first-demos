"use strict";(self.webpackChunkukko=self.webpackChunkukko||[]).push([[76],{132:(e,t,i)=>{i.d(t,{f:()=>b,B:()=>C});var n=i(65813),o=i(59729),a=i(24874),l=i(83711),s=i(62898);const r=(e,t)=>[...e].sort(t);var d=i(3192),c=i(90162),u=i(90594),p=i(4522),m=i(26884),y=i(31861),g=i(31577),f=i(81551),x=i(40027),h=i(51015);function b(e){let{selectedMunicipalityId:t}=e;const i=(0,l.wA)(),{site:c,translate:b}=(0,y.xy)(),v=function(e,t){const i=d.J.map((i=>{const n=i.name[e];return{value:n,displayName:`${t("localNews.location",{municipality:n})}`,id:i.id}}));return function(...e){return(0,s._)(r,e)}(i,(e=>e.displayName))}(C(c.lang),b),w=v.find((e=>e.id===t)),[I,k]=(0,o.useState)(!1);(0,o.useEffect)((()=>{k(!0)}),[]);const L=(0,g.X)(w),{trackShow:j,trackClick:A}=(0,x.K)({trackClickOnlyOnce:!1,impressionContextOverride:{contextName:f.Ce.Generic,element:f.GX.LocationSelect,uiElementId:u.$.localNewsLocation,itemTitle:L}});return(0,n.jsx)(a.pL,{onChange:j,triggerOnce:!0,children:(0,n.jsx)(h.A,{defaultOptions:v,selectedOption:I?w:null,onSelect:e=>{e&&((0,m.mx)(m.uG.Manual,e.id??-1),i((0,p.q)(m.uG.Manual,e.id)))},initialIsOpen:!0,placeholder:b("location.placeholder"),noResults:b("location.noResults"),buttonText:b("location.change"),trackClick:A})},null==w?void 0:w.id)}function C(e){return e===c.JA.fi||e===c.JA.sv?e:c.JA.fi}},19076:(e,t,i)=>{i.d(t,{A:()=>De});i(31934);var n=i(65813),o=i(59729),a=i(31996);function l(e,t){if(e<1)return[];let i=Number.isInteger(e)?e:Math.floor(e),n=Array(i);for(let e=0;e<i;e++)n[e]=t(e);return n}function s(e){return null!==e}var r=i(92540),d=i(63548),c=i(32916),u=i(87595),p=i(60274),m=i(34059),y=i(53923);const g=(e,t)=>{let i=Object.create(null);for(let n=0;n<e.length;n++){let o=e[n],a=t(o,n,e);if(void 0!==a){let e=i[a];void 0===e?i[a]=[o]:e.push(o)}}return Object.setPrototypeOf(i,Object.prototype),i};function f(e,t){let i={};for(let[n,o]of Object.entries(e)){let a=t(o,n,e);i[n]=a}return i}const x=(e,t)=>{let i=e.entries(),n=i.next();if("done"in n&&n.done)return 0;let{value:[,o]}=n,a=t(o,0,e);for(let[n,o]of i){a+=t(o,n,e)}return a};function h(...e){return(0,a.T)(b,e)}function b(e,t){let i={};for(let[n,o]of e.entries()){let[a,l]=t(o,n,e);i[a]=l}return i}var C=i(94692),v=i(31861),w=i(58630);const I=e=>e.filter(u.p4).filter((e=>e.widgetType===d.x.LayoutFragment&&(0,w.P)(e.configuration))),k=e=>(0,y.F)(e,function(...e){return(0,a.T)(g,e)}((e=>e.configuration.layoutFragmentId)),function(...e){return(0,a.T)(f,e)}((e=>function(...e){return(0,a.T)(x,e)}(e,(e=>e.configuration.count))))),L=e=>{const{layout:t,excludeContentIds:i,retries:n=1,enabled:a}=e,{config:l,site:{lang:s},abTests:{activeAbTests:r},ssrDetails:{renderId:d}}=(0,v.xy)(),u=(0,o.useMemo)((()=>I(t)),[t]),p=(0,o.useMemo)((()=>k(u)),[u]),{data:y,error:g}=(0,m.I)({queryKey:["layoutFragments",p,s,i,r,d],meta:{persist:!0},staleTime:"static",queryFn:async()=>{if(0===u.length)return{};const e=await(async e=>{let{totalCountByFragmentId:t,excludeContentIds:i,lang:n,config:o,activeAbTests:a}=e;const l=Object.entries(t).map((async e=>{let[t,l]=e;const s=await(0,C.XT)({config:o,params:{id:t,count:l,excludeContentIds:i,activeAbTests:a}});return{layoutFragmentId:t,items:(0,c.N8)(s.items,n,o.rootUrl)}}));return h(await Promise.all(l),(e=>[e.layoutFragmentId,e.items]))})({totalCountByFragmentId:p,lang:s,config:l,excludeContentIds:i,activeAbTests:r}),t=((e,t)=>Object.fromEntries(e.map((e=>{const{layoutFragmentId:i}=e.configuration,n=t[i]??[];return[e.uuid,n.splice(0,e.configuration.count)]}))))(u,e);return t},retry:n,enabled:a});return g?(e=>h(I(e),(e=>{var t;return[e.uuid,(null===(t=e.data)||void 0===t?void 0:t.fallbackItems)??[]]})))(t):y??{}};var j=i(2762),A=i(83179),T=i(61583),M=i(61471),S=i(24874),F=i(83711),N=i(86291),$=i(3192),P=i(24250),_=i(132),B=i(4951),q=i(58027),z=i(93587),O=i(38514),V=i(11877);function E(e){return e.children.every((e=>e.playableMedia.type===O.z.Audio))?O.z.Audio:O.z.Video}var G=i(58108),R=i(47741),W=i(36075),D=i(32874),X=i(35107),Y=i(42226),H=i(10437),J=i(32314),K=i(81551),U=i(24100),Z=i(11807),Q=i(33883),ee=i(97983),te=i(75116),ie=i(71905),ne=i(95755),oe=i(37901),ae=i(94280),le=i(24758),se=i(81842),re=i(64570),de=i(46716),ce=i(78986),ue=i(59007),pe=i(69724),me=i(36704);const ye=(0,N.AH)(["pointer-events:none;"]),ge=N.I4.div.withConfig({displayName:"FeatureCarouselContent__TextOverlay",componentId:"sc-52628b43-0"})(["will-change:opacity;"," ",";position:absolute;display:flex;width:100%;height:100%;background:",";align-items:center;flex-direction:column;justify-content:flex-end;text-align:",";padding:20% ","px "," ","px;@media (min-width:","px){padding:20% ","px "," ","px;}@media (min-width:","px){padding:20% ","px "," ","px;}"],(e=>{let{$renderAsVideoPlaylist:t}=e;return t&&ye}),Z.l,pe.J,(e=>{let{$renderAsVideoPlaylist:t}=e;return t?"left":"center"}),j.sh.mobile,(e=>{let{$renderAsVideoPlaylist:t}=e;return he(t,2*j.uC)}),j.sh.mobile,j.aq.tablet,j.sh.tablet,(e=>{let{$renderAsVideoPlaylist:t}=e;return he(t,2.5*j.uC)}),j.sh.tablet,j.aq.desktop,2*j.uC,(e=>{let{$renderAsVideoPlaylist:t}=e;return he(t,2.5*j.uC)}),2*j.uC),fe=N.I4.div.withConfig({displayName:"FeatureCarouselContent__TagWrapper",componentId:"sc-52628b43-1"})(["display:none;@media (min-width:","px){display:block;}"],j.aq.tablet),xe=(0,N.I4)(se.L).withConfig({displayName:"FeatureCarouselContent__StyledCardHeading",componentId:"sc-52628b43-2"})(["color:",";margin:0 0 ","px 0;width:100%;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;text-wrap:balance;-webkit-line-clamp:5;-webkit-box-orient:vertical;"],(e=>{let{$color:t}=e;return t}),j.uC);function he(e,t){return`${e?7*j.uC:t}px`}function be(e){let{story:t,headingText:i,renderAsVideoPlaylist:o}=e;const a=o?void 0:function(e){var t;if(null===(t=e.concepts)||void 0===t?void 0:t[0])return{conceptTagLink:{label:e.concepts[0].text,showOnFooter:!0}}}(t);return(0,n.jsxs)(ge,{$roundedCorners:{mobile:W.FY.all},$renderAsVideoPlaylist:o,children:[(0,n.jsx)(xe,{level:r.F.h4,href:t.url,mobile:ae.PT.YleXLCondensedHeavy,desktop:ae.PT.Yle2XLCondensedHeavy,$color:D.sB.featureStoryText,applyVisitedLinkStyles:!1,children:i}),a&&(0,n.jsx)(fe,{children:(0,n.jsx)(me.A,{tagSection:a,isInFooter:!0})})]})}const Ce=e=>{let{mobile:t,tablet:i,image:o,video:a,playlist:l,lazyLoadMedia:s,isVideoPlaylist:r,headingText:d,story:c}=e;const u=2/3;return(0,n.jsx)(re.Ay,{image:o,video:a,playlist:l,mobile:{span:t,aspectRatio:u},tablet:{span:i,aspectRatio:u},desktop:{span:i,aspectRatio:u},lazy:s,noGridSystem:!0,roundedCorners:{mobile:W.FY.all},children:(0,n.jsx)(be,{story:c,headingText:d,renderAsVideoPlaylist:r})})},ve=(0,N.I4)(se.L).withConfig({displayName:"CarouselStory__CarouselStoryHeading",componentId:"sc-27cf6417-0"})(["order:1;color:",";margin:","px 0 ","px 0;flex-grow:1;"],D.sB.getTextColor(),2*j.uC,j.uC),we=N.I4.div.withConfig({displayName:"CarouselStory__CarouselStoryDuration",componentId:"sc-27cf6417-1"})(["display:flex;align-items:center;gap:","px;order:2;color:",";margin-top:","px;font-size:14px;"],j.uC,D.sB.getTextColor(),j.uC),Ie=N.I4.div.withConfig({displayName:"CarouselStory__AudioDuration",componentId:"sc-27cf6417-2"})(["display:flex;flex-flow:row nowrap;gap:","px;align-items:center;order:2;margin-top:","px;@media (min-width:","px){margin-top:","px;}"],j.uC,2*j.uC,j.aq.tablet,3*j.uC),ke=(0,N.I4)(de.E).withConfig({displayName:"CarouselStory__AudioPlayButton",componentId:"sc-27cf6417-3"})(["display:inline-flex;align-items:center;justify-content:center;"]),Le=N.I4.div.withConfig({displayName:"CarouselStory__Wrapper",componentId:"sc-27cf6417-4"})(["display:flex;flex-direction:column;height:100%;"]),je=N.I4.div.withConfig({displayName:"CarouselStory__PublishedDate",componentId:"sc-27cf6417-5"})(["margin-top:","px;"],j.uC/2);function Ae(e){let{story:t,playlist:i,aspectRatio:o,renderAsFeature:a,mobile:l,tablet:s,lazyLoadMedia:d,showPublishedDates:c}=e;const p=(0,F.wA)(),{translate:m,site:y}=(0,v.xy)(),{texts:g,image:f,playableMedia:x}=t,h=!!i&&i.mediaType===O.z.Video,b=!!i&&i.mediaType===O.z.Audio,C=b?1:o,w=a||h,I=g.headline.text,k=x&&{...x,title:I,playMode:(0,V.aH)(x.playMode,(0,u.BG)(t),h||b),standAlone:!1,showPlayButton:!1},L=(0,oe.F3)(t,{},m,y,!1);return(0,n.jsx)(K.Xk,{element:K.GX.CarouselStory,...(0,ie.I)(t,void 0,{omitSize:!0}),children:(0,n.jsx)(le.A,{as:"div",flexDirection:"column",isFullHeight:!0,children:(0,n.jsxs)(Le,{onClick:e=>{(h||b)&&void 0!==k&&(e.preventDefault(),p((0,ne.v)({playlist:i,selectedProgramId:k.id,playMode:k.playMode})))},children:[w?(0,n.jsx)(Ce,{mobile:l,tablet:s,image:f,video:k,playlist:i,lazyLoadMedia:d,isVideoPlaylist:h,headingText:I,story:t}):(0,n.jsxs)(J.LX,{$mobile:l,$tablet:s,$desktop:s,$noGridSystem:!0,children:[(0,n.jsx)(ve,{level:r.F.h4,href:t.url,mobile:ae.PT.YleSBold,tablet:ae.PT.YleMBold,desktop:ae.PT.YleMBold,applyVisitedLinkStyles:!1,addSpaceToBottomForPlayButton:!0,children:I}),(0,u.D0)(t)&&(0,n.jsxs)(we,{children:[(0,u.mT)(t)&&(0,n.jsx)(ee.fP5,{height:18,width:18}),(0,te.a)(null==k?void 0:k.duration)]}),b&&(0,n.jsxs)(Ie,{children:[(0,n.jsx)(ke,{"aria-label":m("phrases.playAudio"),$inverseColorScheme:!0,children:(0,n.jsx)(ee.jGG,{height:16,width:16})}),(0,n.jsxs)(ce.o,{as:"span",$mobile:ae.PT.YleXS,children:[m("phrases.listen")," ",(0,te.a)(null==k?void 0:k.duration)]})]}),(0,n.jsx)(re.Ay,{image:f,video:k,playlist:i,mobile:{span:l,aspectRatio:C},tablet:{span:s,aspectRatio:C},desktop:{span:s,aspectRatio:C},lazy:d,noGridSystem:!0,roundedCorners:{mobile:W.FY.all},showPlayButton:!b})]}),c&&(0,n.jsx)(je,{children:(0,n.jsx)(ue.A,{story:t,url:L.url})})]})})})}const Te=(0,N.AH)([".swiper-wrapper{list-style:none;transform:translate3d(","px,0,0);@media (min-width:","px){transform:translate3d(","px,0,0);}@media (min-width:","px){transform:translate3d(","px,0,0);}}"],j.sh.mobile,j.aq.tablet,j.sh.tablet,j.aq.desktop,j.sh.desktop),Me=(0,N.AH)([".swiper-slide{width:auto;margin-right:","px;@media (min-width:","px){margin-right:","px;}@media (min-width:","px){margin-right:","px;}}"],j.sh.mobile,j.aq.tablet,j.sh.tablet,j.aq.desktop,j.sh.desktop),Se=(0,N.I4)(J.LX).withConfig({displayName:"Carousel__Container",componentId:"sc-bd7f38f1-0"})([""," "," "," background:",";padding-bottom:","px;@media (min-width:","px){padding-bottom:","px;}@media (min-width:","px){padding-bottom:","px;}"],(e=>{let{$hasAmbientContrast:t}=e;return t?Te:""}),Me,Z.l,D.sB.getGroupBackgroundColor(),(e=>{let{$hasAmbientContrast:t}=e;return t?j.sh.mobile:0}),j.aq.tablet,(e=>{let{$hasAmbientContrast:t}=e;return t?j.sh.tablet:0}),j.aq.desktop,(e=>{let{$hasAmbientContrast:t}=e;return t?j.sh.desktop:0})),Fe=N.I4.div.withConfig({displayName:"Carousel__Body",componentId:"sc-bd7f38f1-1"})(["display:flex;flex-direction:row;"]),Ne=N.I4.div.withConfig({displayName:"Carousel__SpinnerContainer",componentId:"sc-bd7f38f1-2"})(["display:flex;justify-content:center;align-items:center;padding:","px;padding-bottom:","px;min-height:235px;@media (min-width:","px){min-height:300px;padding:","px;padding-bottom:","px;}"],2*j.uC,3*j.uC,j.aq.tablet,3*j.uC,4*j.uC);function $e(e){let{group:t,lazyLoadMedia:i,loadingText:a,isLoading:l=!1,showPublishedDates:s}=e;const{site:{lang:c}}=(0,v.xy)(),p=(0,o.useRef)(null),m=(0,o.useContext)(G.R)===G.G.Grey;if(!l&&!(0,u.Go)(t))return null;const y=t.children[0],g=(null==y?void 0:y.widgetType)===d.x.Notification,f=t.children.filter(u.mV),x=(0,R.o3)(t,c),h=f.every(u.cc),b={mobile:16,tablet:h?9:6},C=new X.M(i?X.I:3),w={1:{freeMode:Y.g4.mobile,slidesOffsetBefore:j.sh.mobile,slidesOffsetAfter:0},[j.aq.tablet]:{freeMode:Y.g4.tablet,slidesOffsetBefore:m?j.sh.tablet:0,slidesOffsetAfter:m?0:-j.sh.tablet},[j.aq.desktop]:{freeMode:Y.g4.desktop,slidesOffsetBefore:m?j.sh.desktop:0,slidesOffsetAfter:m?0:-j.sh.desktop}},I=(0,u.vq)(t)||(0,u.dM)(t)||(0,u.GA)(t)?function(e){var t;return{title:null===(t=e.content)||void 0===t?void 0:t.title,mediaType:E(e),items:e.children.map((e=>{const{contentId:t,playableMedia:i,texts:n}=e;return{contentId:t,aspectRatio:(null==i?void 0:i.aspectRatio)??V.M$,title:n.headline.text,story:e}}))}}(t):void 0,k=function(e){var t,i;const n=(null===(i=e.content)||void 0===i||null===(t=i.carousel)||void 0===t?void 0:t.aspectRatio)??z.l8.Landscape.key;return z.A2[n]}(t);return(0,n.jsxs)(Se,{as:"section",$mobile:24,$tablet:15,$mobileBreakGap:!0,$mobileBottomMargin:j.cK,$tabletBottomMargin:j.u8,$desktopBottomMargin:j.YM,$hasAmbientContrast:m,$roundedCorners:{mobile:W.FY.none,tablet:W.FY.all},"aria-labelledby":`carousel-${t.uuid}`,"data-testid":"carousel-container",children:[(0,n.jsx)(U.A,{header:x,level:r.F.h3,ariaLabelId:`carousel-${t.uuid}`,children:(0,n.jsx)(Q.A,{carouselRef:p})}),l&&(0,n.jsx)(Ne,{children:(0,n.jsx)(B.y,{label:a})}),!l&&g&&(0,n.jsx)(H.A,{widget:y,level:r.F.h4}),!l&&(0,n.jsx)(Fe,{children:(0,n.jsx)(q.RC,{...Y.xz,ref:p,breakpoints:w,children:f.map(((e,i)=>(0,n.jsx)(q.qr,{tag:"li",children:(0,n.jsx)(K.Xk,{itemPosition:i,uiElementGroupTitle:(null==x?void 0:x.title)??"<untitled carousel>",groupNumItems:t.children.length,children:(0,n.jsx)(Ae,{story:e,playlist:I,aspectRatio:k,renderAsFeature:h,mobile:b.mobile,tablet:b.tablet,lazyLoadMedia:C.shouldLoadLazily(),showPublishedDates:s})})},e.uuid||e.contentId)))})})]})}var Pe=i(43839),_e=i(59074),Be=i(19310);const qe=N.I4.div.withConfig({displayName:"LocalNewsWidget__LocalNewsSelectContainer",componentId:"sc-d820865e-0"})(["background:",";margin-top:","px;padding:0 ","px ","px;@media (min-width:","px){padding:0 ","px ","px;}"],D.sB.getItemBackgroundColor(),-4,j.sh.mobile,j.sh.mobile-4,j.aq.desktop,j.sh.desktop,j.sh.desktop-4),ze=(0,N.I4)(M.E).withConfig({displayName:"LocalNewsWidget__FallbackText",componentId:"sc-d820865e-1"})(["margin:","px 0 0;@media (min-width:","px){margin:","px 0 0;}"],2*j.uC,j.aq.desktop,3*j.uC),Oe=N.I4.div.withConfig({displayName:"LocalNewsWidget__Container",componentId:"sc-d820865e-2"})(["& .swiper.swiper-horizontal{margin:unset;}"]);function Ve(e){let{uuid:t,excludedContentIds:i=[],config:a={}}=e;var l;const{translate:s,page:r,site:d}=(0,v.xy)(),u=(0,F.d4)((e=>e.location)),{title:p,size:m=20,excludeArticlesInLayout:y=!0,requiredSubjectIds:g,profile:f}=a,{ref:x,inView:h}=(0,S.Wx)({triggerOnce:!0,rootMargin:Pe.M}),[b,C]=(0,o.useState)(!1);(0,o.useEffect)((()=>{C(!0)}),[]);const{stories:w,isFallback:I,isLoading:k}=(0,_e._)({queryKeyPrefix:`localNewsWidget-${t}`,page:r,excludeArticlesInLayout:y,excludedContentIds:i,requiredSubjectIds:g,enabled:h,profile:f,onlyRecentNews:!0}),L=k||!h,j=p??s("localNews.title"),A=null==u||null===(l=u.localNews)||void 0===l?void 0:l.municipalityId,T=b&&A?function(e,t,i,n){const o=(0,_.B)(t.lang),a=$.J.find((e=>e.id===n)),l=`${e("localNews.location",{municipality:null==a?void 0:a.name[o]})}`;return`${i}, ${l}`}(s,d,j,A):void 0,M=(0,Be.g)(t,w,m,s("localNews.noContent"),j,T,(0,n.jsxs)(qe,{children:[(0,n.jsx)(_.f,{selectedMunicipalityId:A}),I&&w.length>0&&(0,n.jsx)(ze,{level:"info",variant:"secondary",children:s("localNews.noContentInSelectedLanguage")})]}),P.al.Carousel,L);return(0,n.jsx)(Oe,{ref:x,children:(0,n.jsx)($e,{group:M,lazyLoadMedia:!1,loadingText:s("localNews.loading"),isLoading:L,showPublishedDates:!0},(0,c.WE)(M))})}var Ee=i(28605),Ge=i(12018);const Re=(e,t)=>e.flatMap((e=>{if((0,u.p4)(e)&&e.widgetType===d.x.LayoutFragment){const i=t[e.uuid];return i&&0!==i.length?i:e}return[e]})),We=e=>{const{node:t,lazyLoadStrategy:i,contentIds:o,compact:s,applyVisitedLinkStyles:p,enableLayoutFragmentWidgetData:m}=e;return(0,u.up)(t)||(0,u.vq)(t)?(0,n.jsx)($e,{group:t,lazyLoadMedia:i.shouldLoadLazily()},(0,c.WE)(t)):(0,u.IZ)(t)?(0,n.jsx)(Ge.A,{group:t,level:r.F.h3,lazyLoadMedia:i.shouldLoadLazily()},(0,c.WE)(t)):(0,u.p4)(t)&&t.widgetType===d.x.LayoutFragment?function(...e){return(0,a.T)(l,e)}(t.configuration.count,(e=>(0,n.jsx)(w.Q,{onInView:m},(0,c.WE)(t)+String(e)))):(0,u.p4)(t)&&t.widgetType===d.x.LocalNews?(0,n.jsx)(Ve,{uuid:t.uuid,excludedContentIds:o,config:t.configuration},(0,c.WE)(t)):(0,u.p4)(t)&&t.widgetType===d.x.ConceptGroup?(0,n.jsx)(A.A,{uuid:t.uuid,title:t.title,excludedContentIds:o,widgetConfig:t.configuration},(0,c.WE)(t)):(0,u.p4)(t)&&t.widgetType===d.x.Headlines?t.title?(0,n.jsx)(T.A,{uuid:t.uuid,title:t.title,config:t.configuration,data:t.data},(0,c.WE)(t)):null:(0,u.p4)(t)&&!Object.values(d.x).includes(t.widgetType)?null:(0,u.WZ)(t)?(0,n.jsx)(Ee.A,{item:t,level:r.F.h3,lazyLoadMedia:i.shouldLoadLazily(),desktopBottomMargin:s?j.uC:void 0,tabletBottomMargin:s?j.uC:void 0,mobileBottomMargin:s?j.uC:void 0,applyVisitedLinkStyles:p},(0,c.WE)(t)):null};function De(e){let{lazyLoadStrategy:t,layout:i,impressionElementStartPosition:a=0,compact:l=!1,applyVisitedLinkStyles:r=!1}=e;const d=(0,o.useMemo)((()=>(0,p.h)(i)),[i]),[c,u]=(0,o.useState)(!1),m=(0,o.useCallback)((()=>u(!0)),[]),y=L({layout:i,excludeContentIds:d,enabled:c}),g=(0,o.useMemo)((()=>Re(i,y).map((e=>We({node:e,lazyLoadStrategy:t,layoutFragmentWidgetData:y,contentIds:d,enableLayoutFragmentWidgetData:m,compact:l,applyVisitedLinkStyles:r})))),[i,t,y,d,m,l,r]);return(0,n.jsx)(K.Xk,{contextName:K.Ce.Layout,children:g.filter(s).flat().map(((e,t)=>(0,n.jsx)(K.Xk,{uiElementPosition:t+a,children:e},e.key??t)))})}},35107:(e,t,i)=>{i.d(t,{I:()=>n,M:()=>o});const n=0;class o{index;numberOfMediaToLoadEagerly;constructor(e){this.index=0,this.numberOfMediaToLoadEagerly=e}shouldLoadLazily(){return this.index+=1,this.index>this.numberOfMediaToLoadEagerly}}},59074:(e,t,i)=>{i.d(t,{_:()=>p});i(31934);var n=i(34059),o=i(59729),a=i(83711),l=i(34347),s=i(32916),r=i(90162),d=i(94692),c=i(26884),u=i(31861);const p=e=>{var t,i,s;const{queryKeyPrefix:p,page:y,enabled:g,excludeArticlesInLayout:f,excludedContentIds:x,requiredSubjectIds:h,profile:b,onlyRecentNews:C}=e,{config:v,site:{lang:w},ssrDetails:{ssrTime:I}}=(0,u.xy)(),k=C?(0,l.ol)(I,{offsetDays:-60}):void 0,L=(0,c.iD)().municipalityId,j=(0,a.d4)((e=>e.location)),A=(null==j||null===(t=j.localNews)||void 0===t?void 0:t.municipalityId)??L,T=w===r.JA.sv?r.JA.fi:r.JA.sv,M=(null===(i=y.localNews)||void 0===i?void 0:i.fallbackLang)??T,S=(null===(s=y.localNews)||void 0===s?void 0:s.limit)??20,F=Math.min(S+10,d.IF),{data:N,isLoading:$}=(0,n.I)({queryKey:[p,{fallbackLang:M,locationId:A,limit:S,requiredSubjectIds:h,publishedAfter:k}],queryFn:async()=>{const e=await m(v,A,w,F,h,b,k);if(e.length>0||!M)return{articles:e,isFallback:!1};return{articles:await m(v,A,M,F,h,b,k),isFallback:!0}},refetchOnMount:!0,enabled:g}),P=null==N?void 0:N.articles,_=(0,o.useMemo)((()=>f?P?P.filter((e=>e.contentId&&!(null==x?void 0:x.includes(e.contentId)))):[]:P??[]),[f,P,x]);return{stories:null==_?void 0:_.slice(0,S),isFallback:null==N?void 0:N.isFallback,isLoading:$}};async function m(e,t,i,n,o,a,l){const r=await(0,d.XU)(e,String(t).padStart(3,"0"),i,n,o,a,l);return(0,s.N8)(r,i,e.rootUrl)}},60274:(e,t,i)=>{i.d(t,{h:()=>o});var n=i(87595);function o(e){return e.reduce(((e,t)=>(0,n.BG)(t)&&t.contentId?[...e,t.contentId]:(0,n.IZ)(t)?[...e,...o(t.children)]:e),[])}}}]);