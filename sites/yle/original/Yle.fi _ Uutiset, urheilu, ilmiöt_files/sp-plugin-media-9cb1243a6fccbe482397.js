/*! For license information please see sp-plugin-media-9cb1243a6fccbe482397.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).snowplowMedia={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};function i(e,t,i){if(i||2===arguments.length)for(var n,a=0,r=t.length;a<r;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function n(){var e,t={},i=[],n=[],a=[],r=function(e,i){null!=i&&""!==i&&(t[e]=i)};return{add:r,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r(t,e[t])},addJson:function(e,t,a){if(a&&function(e){if(!function(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(a)){var r={keyIfEncoded:e,keyIfNotEncoded:t,json:a};n.push(r),i.push(r)}},addContextEntity:function(e){a.push(e)},getPayload:function(){return t},getJson:function(){return i},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,n,a),t}}}"function"==typeof SuppressedError&&SuppressedError;var a,r="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(a||(a={}));var o,d,s,u=function(e){void 0===e&&(e=a.warn);return{setLogLevel:function(t){e=a[t]?t:a.warn},warn:function(t,n){for(var o=[],d=2;d<arguments.length;d++)o[d-2]=arguments[d];if(e>=a.warn&&"undefined"!=typeof console){var s=r+t;n?console.warn.apply(console,i([s+"\n",n],o,!1)):console.warn.apply(console,i([s],o,!1))}},error:function(t,n){for(var o=[],d=2;d<arguments.length;d++)o[d-2]=arguments[d];if(e>=a.error&&"undefined"!=typeof console){var s=r+t+"\n";n?console.error.apply(console,i([s+"\n",n],o,!1)):console.error.apply(console,i([s],o,!1))}},debug:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e>=a.debug&&"undefined"!=typeof console&&console.debug.apply(console,i([r+t],n,!1))},info:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e>=a.info&&"undefined"!=typeof console&&console.info.apply(console,i([r+t],n,!1))}}}();function p(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,i)}catch(e){return}})).filter(Boolean))&&void 0!==t?t:[]}function c(e,t,i){try{(function(e,t){for(var i=[],n=0,a=e;n<a.length;n++){var r=a[n];t.hasOwnProperty(r)?i.push(t[r]):u.warn(r+" not configured")}return i})(null!=e?e:Object.keys(t),t).forEach(i)}catch(e){u.error("Function failed",e)}}e.MediaEventType=void 0,(o=e.MediaEventType||(e.MediaEventType={})).Ready="ready",o.Play="play",o.Pause="pause",o.End="end",o.SeekStart="seek_start",o.SeekEnd="seek_end",o.PlaybackRateChange="playback_rate_change",o.VolumeChange="volume_change",o.FullscreenChange="fullscreen_change",o.PictureInPictureChange="picture_in_picture_change",o.Ping="ping",o.PercentProgress="percent_progress",o.AdBreakStart="ad_break_start",o.AdBreakEnd="ad_break_end",o.AdStart="ad_start",o.AdFirstQuartile="ad_first_quartile",o.AdMidpoint="ad_midpoint",o.AdThirdQuartile="ad_third_quartile",o.AdComplete="ad_complete",o.AdSkip="ad_skip",o.AdClick="ad_click",o.AdPause="ad_pause",o.AdResume="ad_resume",o.BufferStart="buffer_start",o.BufferEnd="buffer_end",o.QualityChange="quality_change",o.Error="error",function(e){e.Audio="audio",e.Video="video"}(d||(d={})),e.MediaPlayerAdBreakType=void 0,(s=e.MediaPlayerAdBreakType||(e.MediaPlayerAdBreakType={})).Linear="linear",s.NonLinear="nonlinear",s.Companion="companion";var l="iglu:com.snowplowanalytics.snowplow.media/",v="/jsonschema/1-0-0",y=l+"session"+v,h=l+"ad"+v,f=l+"ad_break"+v;function g(t){var i=function(t){switch(t){case e.MediaEventType.AdFirstQuartile:case e.MediaEventType.AdMidpoint:case e.MediaEventType.AdThirdQuartile:return"ad_quartile"}return t}(t);return l+i+"_event"+v}function k(e){var t;return{schema:g(e.type),data:m(null!==(t=e.eventBody)&&void 0!==t?t:{})}}function m(e){var t={};for(var i in e)null!=e[i]&&(t[i]=e[i]);return t}var E=function(){function i(){this.podPosition=0}return i.prototype.updateForThisEvent=function(i,n,a,r){if(i==e.MediaEventType.AdStart?(this.ad=void 0,this.podPosition++):i==e.MediaEventType.AdBreakStart&&(this.adBreak=void 0,this.podPosition=0),void 0!==a){var o={podPosition:this.podPosition>0?this.podPosition:void 0};void 0!==this.ad?this.ad=t(t(t({},this.ad),o),a):this.ad=t(t({},o),a)}if(void 0!==r){var d={startTime:n.currentTime};void 0!==this.adBreak?this.adBreak=t(t(t({},d),this.adBreak),r):this.adBreak=t(t({},d),r)}},i.prototype.updateForNextEvent=function(t){t==e.MediaEventType.AdBreakEnd&&(this.adBreak=void 0,this.podPosition=0),t!=e.MediaEventType.AdComplete&&t!=e.MediaEventType.AdSkip||(this.ad=void 0)},i.prototype.getContext=function(){var e,t,i=[];return void 0!==this.ad&&i.push((e=this.ad,{schema:h,data:m(e)})),void 0!==this.adBreak&&i.push((t=this.adBreak,{schema:f,data:m(t)})),i},i}(),T=function(){function t(t){var i,n=this;this.aggregateEventsWithOrder={},this.eventsToAggregate={};var a=void 0===t||!0===t;(a||"object"==typeof t&&!1!==t.seekEvents)&&(this.aggregateEventsWithOrder[g(e.MediaEventType.SeekStart)]=!0,this.aggregateEventsWithOrder[g(e.MediaEventType.SeekEnd)]=!1),(a||"object"==typeof t&&!1!==t.volumeChangeEvents)&&(this.aggregateEventsWithOrder[g(e.MediaEventType.VolumeChange)]=!1),this.flushTimeoutMs=null!==(i="object"==typeof t?t.flushTimeoutMs:void 0)&&void 0!==i?i:5e3,Object.keys(this.aggregateEventsWithOrder).forEach((function(e){n.eventsToAggregate[e]=[]}))}return t.prototype.trackFilteredEvents=function(e,t){var i=this,n=!1;e.forEach((function(e){var a=e.event,r=e.context;void 0!==i.eventsToAggregate[a.schema]?(n=!0,i.eventsToAggregate[a.schema].push((function(){return t({event:a,context:r})}))):(n=!1,i.flush(),t({event:a,context:r}))})),n&&void 0===this.flushTimeout&&this.setFlushTimeout()},t.prototype.flush=function(){var e=this;this.clearFlushTimeout(),Object.keys(this.eventsToAggregate).forEach((function(t){var i=e.eventsToAggregate[t];i.length>0&&(e.aggregateEventsWithOrder[t]?i[0]():i[i.length-1](),e.eventsToAggregate[t]=[])}))},t.prototype.clearFlushTimeout=function(){void 0!==this.flushTimeout&&(clearTimeout(this.flushTimeout),this.flushTimeout=void 0)},t.prototype.setFlushTimeout=function(){var e=this;this.clearFlushTimeout(),this.flushTimeout=window.setTimeout((function(){return e.flush()}),this.flushTimeoutMs)},t}(),P=function(){function i(t,i,n,a,r,o,d,s,p){this.sentBoundaries=[],this.player={currentTime:0,paused:!0,ended:!1},this.adTracking=new E,this.id=t,this.updatePlayer(i),this.session=n,this.pingInterval=a,this.boundaries=r,this.captureEvents=o,this.updatePageActivityWhilePlaying=d,this.customContext=p,this.repeatedEventFilter=new T(s),null==o||o.forEach((function(t){Object.values(e.MediaEventType).includes(t)||u.warn("Unknown media event "+t)}))}return i.prototype.flushAndStop=function(){var e;null===(e=this.pingInterval)||void 0===e||e.clear(),this.repeatedEventFilter.flush()},i.prototype.update=function(t,i,n,a,r,o){var d,s;this.updatePlayer(a),void 0!==i&&this.adTracking.updateForThisEvent(i.type,this.player,r,o),null===(d=this.session)||void 0===d||d.update(null==i?void 0:i.type,this.player,this.adTracking.adBreak),null===(s=this.pingInterval)||void 0===s||s.update(this.player);var u,c=[(u=this.player,{schema:"iglu:com.snowplowanalytics.snowplow/media_player/jsonschema/2-0-0",data:m(u)})];void 0!==this.session&&c.push(this.session.getContext()),this.customContext&&(c=c.concat(p(this.customContext,null!=i?i:n))),c=c.concat(this.adTracking.getContext());var l=[];void 0!==i&&this.shouldTrackEvent(i.type)&&l.push(i),this.shouldSendPercentProgress()&&l.push({type:e.MediaEventType.PercentProgress,eventBody:{percentProgress:this.getPercentProgress()}}),void 0!==i&&this.adTracking.updateForNextEvent(i.type);var v=l.map((function(e){return{event:k(e),context:c}}));void 0!==n&&v.push({event:n,context:c}),this.repeatedEventFilter.trackFilteredEvents(v,t)},i.prototype.shouldUpdatePageActivity=function(){var e;return(null===(e=this.updatePageActivityWhilePlaying)||void 0===e||e)&&!this.player.paused},i.prototype.updatePlayer=function(e){void 0!==e&&(this.player=t(t({},this.player),e))},i.prototype.shouldSendPercentProgress=function(){var e=this.getPercentProgress();if(void 0===this.boundaries||void 0===e||this.player.paused)return!1;var t=this.boundaries.filter((function(t){return t<=(null!=e?e:0)}));if(0==t.length)return!1;var i=Math.max.apply(Math,t);return!this.sentBoundaries.includes(i)&&(this.sentBoundaries.push(i),!0)},i.prototype.shouldTrackEvent=function(e){return void 0===this.captureEvents||this.captureEvents.includes(e)},i.prototype.getPercentProgress=function(){var e;if(null!==this.player.duration&&void 0!==this.player.duration&&0!=this.player.duration)return Math.floor((null!==(e=this.player.currentTime)&&void 0!==e?e:0)/this.player.duration*100)},i}(),M=function(){function e(e,t,i){var n=this;this.numPausedPings=0,this.maxPausedPings=1,void 0!==t&&(this.maxPausedPings=t),this.interval=setInterval((function(){(!n.isPaused()||n.numPausedPings<n.maxPausedPings)&&(n.isPaused()&&n.numPausedPings++,i())}),1e3*(null!=e?e:30))}return e.prototype.update=function(e){this.paused=e.paused,this.paused||(this.numPausedPings=0)},e.prototype.clear=function(){void 0!==this.interval&&(clearInterval(this.interval),this.interval=void 0)},e.prototype.isPaused=function(){return!0===this.paused},e}(),b=[e.MediaEventType.AdStart,e.MediaEventType.AdResume],A=[e.MediaEventType.AdClick,e.MediaEventType.AdFirstQuartile,e.MediaEventType.AdMidpoint,e.MediaEventType.AdThirdQuartile],S=[e.MediaEventType.AdComplete,e.MediaEventType.AdSkip,e.MediaEventType.AdPause],B=[e.MediaEventType.BufferEnd,e.MediaEventType.Play],w=function(){function e(){this.durationWithPlaybackRate=0,this.duration=0}return e.prototype.add=function(e,t){this.durationWithPlaybackRate+=e*t,this.duration+=t},e.prototype.get=function(){return this.duration>0?this.durationWithPlaybackRate/this.duration:void 0},e}(),O=function(){function t(){this.adPlaybackDuration=0,this.playbackDuration=0,this.playbackDurationMuted=0,this.avgPlaybackRate=new w,this.pausedDuration=0,this.ads=0,this.adBreaks=0,this.adsSkipped=0,this.adsClicked=0,this.bufferingDuration=0,this.playedSeconds=new Set}return t.prototype.update=function(t,i,n){var a,r={time:(new Date).getTime()/1e3,contentTime:i.currentTime,eventType:t,playbackRate:i.playbackRate,paused:i.paused,muted:i.muted,linearAd:(null!==(a=null==n?void 0:n.breakType)&&void 0!==a?a:e.MediaPlayerAdBreakType.Linear)==e.MediaPlayerAdBreakType.Linear};this.updateDurationStats(r),this.updateAdStats(r),this.updateBufferingStats(r),this.lastLog=r},t.prototype.toSessionContextEntity=function(){return{timePaused:this.pausedDuration>0?this.round(this.pausedDuration):void 0,timePlayed:this.playbackDuration>0?this.round(this.playbackDuration):void 0,timePlayedMuted:this.playbackDurationMuted>0?this.round(this.playbackDurationMuted):void 0,timeSpentAds:this.adPlaybackDuration>0?this.round(this.adPlaybackDuration):void 0,timeBuffering:this.bufferingDuration>0?this.round(this.bufferingDuration):void 0,ads:this.ads>0?this.ads:void 0,adBreaks:this.adBreaks>0?this.adBreaks:void 0,adsSkipped:this.adsSkipped>0?this.adsSkipped:void 0,adsClicked:this.adsClicked>0?this.adsClicked:void 0,avgPlaybackRate:this.round(this.avgPlaybackRate.get()),contentWatched:this.playedSeconds.size>0?this.playedSeconds.size:void 0}},t.prototype.updateDurationStats=function(e){var t;if(null===(t=!(void 0!==this.lastAdUpdateAt)||!e.linearAd)||void 0===t||t){if(void 0!==this.lastLog){var i=e.time-this.lastLog.time;if(this.lastLog.paused)this.pausedDuration+=i;else if(this.playbackDuration+=i,void 0!==this.lastLog.playbackRate&&this.avgPlaybackRate.add(this.lastLog.playbackRate,i),this.lastLog.muted&&(this.playbackDurationMuted+=i),!e.paused)for(var n=Math.floor(this.lastLog.contentTime);n<e.contentTime;n++)this.playedSeconds.add(n)}e.paused||this.playedSeconds.add(Math.floor(e.contentTime))}},t.prototype.updateAdStats=function(t){void 0!==t.eventType&&(t.eventType==e.MediaEventType.AdBreakStart?this.adBreaks++:t.eventType==e.MediaEventType.AdStart?this.ads++:t.eventType==e.MediaEventType.AdSkip?this.adsSkipped++:t.eventType==e.MediaEventType.AdClick&&this.adsClicked++,void 0===this.lastAdUpdateAt?b.includes(t.eventType)&&(this.lastAdUpdateAt=t.time):A.includes(t.eventType)?(this.adPlaybackDuration+=t.time-this.lastAdUpdateAt,this.lastAdUpdateAt=t.time):S.includes(t.eventType)&&(this.adPlaybackDuration+=t.time-this.lastAdUpdateAt,this.lastAdUpdateAt=void 0))},t.prototype.updateBufferingStats=function(t){t.eventType==e.MediaEventType.BufferStart?(this.bufferingStartedAt=t.time,this.bufferingStartTime=t.contentTime):void 0!==this.bufferingStartedAt&&(t.contentTime!=this.bufferingStartTime&&!t.paused||void 0!==t.eventType&&B.includes(t.eventType)?(this.bufferingDuration+=t.time-this.bufferingStartedAt,this.bufferingStartedAt=void 0,this.bufferingStartTime=void 0):(this.bufferingDuration+=t.time-this.bufferingStartedAt,this.bufferingStartedAt=t.time))},t.prototype.round=function(e){if(void 0!==e)return Math.round(1e3*e)/1e3},t}(),j=function(){function e(e,t,i){this.stats=new O,this.id=e,this.pingInterval=i,this.startedAt=null!=t?t:new Date}return e.prototype.update=function(e,t,i){this.stats.update(e,t,i)},e.prototype.getContext=function(){return e=t({mediaSessionId:this.id,startedAt:this.startedAt,pingInterval:this.pingInterval},this.stats.toSessionContextEntity()),{schema:y,data:m(e)};var e},e}(),C={},_={};var x={};function D(e){if(void 0!==x[e])return x[e];u.error("Media tracking ".concat(e," not started."))}function R(e,t,i){void 0===i&&(i=Object.keys(C));var a=t.context,r=void 0===a?[]:a,o=t.timestamp,d=t.player,s=t.ad,u=t.adBreak,l=t.id,v=e.mediaEvent,y=e.customEvent,h=D(l);if(void 0!==h){h.update((function(e){c(i,C,(function(t){var i;t.core.track(function(e){var t=e.event,i=t.schema,a=t.data,r=n(),o={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:i,data:a}};return r.add("e","ue"),r.addJson("ue_px","ue_pr",o),r}(e),(null!==(i=e.context)&&void 0!==i?i:[]).concat(p(r)),o)}))}),v,y,d,s,u),h.shouldUpdatePageActivity()&&c(i,C,(function(e){e.updatePageActivity()}))}}e.SnowplowMediaPlugin=function(){var e;return{activateBrowserPlugin:function(t){e=t.id,C[e]=t,_[e]=[]},contexts:function(){return _[e]||[]}}},e.endMediaTracking=function(e){x[e.id]&&(x[e.id].flushAndStop(),delete x[e.id])},e.startMediaTracking=function(t,i){var n,a,r;void 0===i&&(i=Object.keys(C));var o="boolean"==typeof t.pings||null===(n=t.pings)||void 0===n?void 0:n.pingInterval,d="boolean"==typeof t.pings||null===(a=t.pings)||void 0===a?void 0:a.maxPausedPings,s=!1===t.pings||void 0===t.pings?void 0:new M(o,d,(function(){R({mediaEvent:{type:e.MediaEventType.Ping}},{id:t.id},i)})),u=!1===t.session?void 0:new j(t.id,null===(r=t.session)||void 0===r?void 0:r.startedAt,o),p=new P(t.id,t.player,u,s,t.boundaries,t.captureEvents,t.updatePageActivityWhilePlaying,t.filterOutRepeatedEvents,t.context);x[p.id]=p},e.trackMediaAdBreakEnd=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdBreakEnd}},t,i)},e.trackMediaAdBreakStart=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdBreakStart}},t,i)},e.trackMediaAdClick=function(t,i){void 0===i&&(i=Object.keys(C));var n=t.percentProgress;void 0!==n&&(n=Math.floor(n)),R({mediaEvent:{type:e.MediaEventType.AdClick,eventBody:{percentProgress:n}}},t,i)},e.trackMediaAdComplete=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdComplete}},t,i)},e.trackMediaAdFirstQuartile=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdFirstQuartile,eventBody:{percentProgress:25}}},t,i)},e.trackMediaAdMidpoint=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdMidpoint,eventBody:{percentProgress:50}}},t,i)},e.trackMediaAdPause=function(t,i){void 0===i&&(i=Object.keys(C));var n=t.percentProgress;void 0!==n&&(n=Math.floor(n)),R({mediaEvent:{type:e.MediaEventType.AdPause,eventBody:{percentProgress:n}}},t,i)},e.trackMediaAdResume=function(t,i){void 0===i&&(i=Object.keys(C));var n=t.percentProgress;void 0!==n&&(n=Math.floor(n)),R({mediaEvent:{type:e.MediaEventType.AdResume,eventBody:{percentProgress:n}}},t,i)},e.trackMediaAdSkip=function(t,i){void 0===i&&(i=Object.keys(C));var n=t.percentProgress;void 0!==n&&(n=Math.floor(n)),R({mediaEvent:{type:e.MediaEventType.AdSkip,eventBody:{percentProgress:n}}},t,i)},e.trackMediaAdStart=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdStart}},t,i)},e.trackMediaAdThirdQuartile=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.AdThirdQuartile,eventBody:{percentProgress:75}}},t,i)},e.trackMediaBufferEnd=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.BufferEnd}},t,i)},e.trackMediaBufferStart=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.BufferStart}},t,i)},e.trackMediaEnd=function(i,n){void 0===n&&(n=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.End}},t(t({},i),{player:t(t({},i.player),{ended:!0,paused:!0})}),n)},e.trackMediaError=function(t,i){void 0===i&&(i=Object.keys(C));var n=t.errorCode,a=t.errorName,r=t.errorDescription;R({mediaEvent:{type:e.MediaEventType.Error,eventBody:{errorCode:n,errorName:a,errorDescription:r}}},t,i)},e.trackMediaFullscreenChange=function(i,n){void 0===n&&(n=Object.keys(C));var a=i.fullscreen;R({mediaEvent:{type:e.MediaEventType.FullscreenChange,eventBody:{fullscreen:a}}},t(t({},i),{player:t(t({},i.player),{fullscreen:a})}),n)},e.trackMediaPause=function(i,n){void 0===n&&(n=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.Pause}},t(t({},i),{player:t(t({},i.player),{paused:!0})}),n)},e.trackMediaPictureInPictureChange=function(i,n){void 0===n&&(n=Object.keys(C));var a=i.pictureInPicture;R({mediaEvent:{type:e.MediaEventType.PictureInPictureChange,eventBody:{pictureInPicture:a}}},t(t({},i),{player:t(t({},i.player),{pictureInPicture:a})}),n)},e.trackMediaPlay=function(i,n){void 0===n&&(n=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.Play}},t(t({},i),{player:t(t({},i.player),{paused:!1})}),n)},e.trackMediaPlaybackRateChange=function(i,n){var a;void 0===n&&(n=Object.keys(C));var r=i.previousRate,o=i.newRate;R({mediaEvent:{type:e.MediaEventType.PlaybackRateChange,eventBody:{previousRate:null!=r?r:null===(a=D(i.id))||void 0===a?void 0:a.player.playbackRate,newRate:o}}},t(t({},i),{player:t(t({},i.player),{playbackRate:o})}),n)},e.trackMediaQualityChange=function(i,n){var a;void 0===n&&(n=Object.keys(C));var r=i.previousQuality,o=i.newQuality,d=i.bitrate,s=i.framesPerSecond,u=i.automatic,p=i.id;R({mediaEvent:{type:e.MediaEventType.QualityChange,eventBody:{previousQuality:null!=r?r:null===(a=D(p))||void 0===a?void 0:a.player.quality,newQuality:o,bitrate:d,framesPerSecond:s,automatic:u}}},t(t({},i),{player:t(t({},i.player),{quality:o})}),n)},e.trackMediaReady=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.Ready}},t,i)},e.trackMediaSeekEnd=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.SeekEnd}},t,i)},e.trackMediaSeekStart=function(t,i){void 0===i&&(i=Object.keys(C)),R({mediaEvent:{type:e.MediaEventType.SeekStart}},t,i)},e.trackMediaSelfDescribingEvent=function(e,t){void 0===t&&(t=Object.keys(C)),R({customEvent:e.event},e,t)},e.trackMediaVolumeChange=function(i,n){var a;void 0===n&&(n=Object.keys(C));var r=i.previousVolume,o=i.newVolume;R({mediaEvent:{type:e.MediaEventType.VolumeChange,eventBody:{previousVolume:null!=r?r:null===(a=D(i.id))||void 0===a?void 0:a.player.volume,newVolume:o}}},t(t({},i),{player:t(t({},i.player),{volume:o})}),n)},e.updateMediaTracking=function(e,t){void 0===t&&(t=Object.keys(C)),R({},e,t)},Object.defineProperty(e,"__esModule",{value:!0})}));