/*! For license information please see sp-36c16e8e2e66f357812a.js.LICENSE.txt */
"use strict";!function(){function e(e,n){var t,o={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)0>n.indexOf(t[r])&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]])}return o}function n(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):function(e){return e instanceof t?e:new t((function(n){n(e)}))}(e.value).then(a,c)}u((o=o.apply(e,n||[])).next())}))}function t(e,n){function t(t){return function(u){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,t[0]&&(a=0)),a;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((i=0<(i=a.trys).length&&i[i.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3]))a.label=t[1];else if(6===t[0]&&a.label<i[1])a.label=i[1],i=t;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(t)}}t=n.call(e,a)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,u])}}var o,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=t(0),c.throw=t(1),c.return=t(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function o(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function r(){if(!sn&&!(sn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sn(fn)}function i(e,n,t){if(mn.randomUUID&&!n&&!e)return mn.randomUUID();if((e=(e=e||{}).random||(e.rng||r)())[6]=15&e[6]|64,e[8]=63&e[8]|128,n){t=t||0;for(var o=0;16>o;++o)n[t+o]=e[o];return n}return function(e,n=0){return(cn[e[n+0]]+cn[e[n+1]]+cn[e[n+2]]+cn[e[n+3]]+"-"+cn[e[n+4]]+cn[e[n+5]]+"-"+cn[e[n+6]]+cn[e[n+7]]+"-"+cn[e[n+8]]+cn[e[n+9]]+"-"+cn[e[n+10]]+cn[e[n+11]]+cn[e[n+12]]+cn[e[n+13]]+cn[e[n+14]]+cn[e[n+15]]).toLowerCase()}(e)}function a(){var e,n={},t=[],o=[],r=[],i=function(e,t){null!=t&&""!==t&&(n[e]=t)};return{add:i,addDict:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i(n,e[n])},addJson:function(e,n,r){r&&u(r)&&(e={keyIfEncoded:e,keyIfNotEncoded:n,json:r},o.push(e),t.push(e))},addContextEntity:function(e){r.push(e)},getPayload:function(){return n},getJson:function(){return t},withJsonProcessor:function(n){e=n},build:function(){return null==e||e(this,o,r),n}}}function c(e){return function(n,t,r){for(var i=function(t,o,r){if(t=JSON.stringify(t),e){if(r=n.add,t){var i=0,a=0,c=[];if(t){t=unescape(encodeURIComponent(t));do{var u=t.charCodeAt(i++),s=t.charCodeAt(i++),l=t.charCodeAt(i++),d=u<<16|s<<8|l;u=d>>18&63,s=d>>12&63,l=d>>6&63,d&=63,c[a++]=pn.charAt(u)+pn.charAt(s)+pn.charAt(l)+pn.charAt(d)}while(i<t.length);i=c.join(""),t=((t=t.length%3)?i.slice(0,t-3):i)+"===".slice(t||3)}t=t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}r.call(n,o,t)}else n.add(r,t)},a=function(t,o){if(!t){var r=n.getPayload();if(e?r.cx:r.co){var i=(t=JSON).parse;if(e){if(r=r.cx){switch(4-r.length%4){case 2:r+="==";break;case 3:r+="="}r=function(e){var n,t=0,o=0,r="",i=[];if(!e)return e;e+="";do{var a=pn.indexOf(e.charAt(t++)),c=pn.indexOf(e.charAt(t++));r=pn.indexOf(e.charAt(t++));var u=pn.indexOf(e.charAt(t++)),s=a<<18|c<<12|r<<6|u;a=s>>16&255,c=s>>8&255,s&=255,i[o++]=64===r?String.fromCharCode(a):64===u?String.fromCharCode(a,c):String.fromCharCode(a,c,s)}while(t<e.length);return n=(r=i.join("")).replace(/\0+$/,""),decodeURIComponent(n.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(r=r.replace(/-/g,"+").replace(/_/g,"/"))}}else r=r.co;t=i.call(t,r)}else t=void 0}return t?t.data=t.data.concat(o.data):t=o,t},c=void 0,u=0;u<t.length;u++){var s=t[u];"cx"===s.keyIfEncoded?c=a(c,s.json):i(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}t.length=0,r.length&&(c=a(c,t={schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:o([],r,!0)}),r.length=0),c&&i(c,"cx","co")}}function u(e){if(!s(e))return!1;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!0;return!1}function s(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function l(e){for(var n,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return null!==(n=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,t)}catch(e){}})).filter(Boolean))&&void 0!==n?n:[]}function d(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var n=!1,t=0;for(e=e.slice(2);t<e.length;t++)if("*"===e[t])n=!0;else if(n)return!1;return!0}return 2==e.length}(e)}function f(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&d(e[1]))return e.slice(1,6)}function m(e){if(e=f(e)){var n=e[0];return 5===e.length&&d(n)}return!1}function p(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function v(e){return p(e)?e.every((function(e){return m(e)})):"string"==typeof e&&m(e)}function g(e){return!!(u(e)&&"schema"in e&&"data"in e)&&"string"==typeof e.schema&&"object"==typeof e.data}function h(e){return"function"==typeof e&&1>=e.length}function y(e){return h(e)||g(e)}function w(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?h(e[0])&&e[1].every(y):h(e[0])&&y(e[1]))}function k(e){return!(!Array.isArray(e)||2!==e.length)&&!!function(e){var n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(e,"accept")){if(!v(e.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(e,"reject")){if(!v(e.reject))return!1;n+=1}return 0<n&&2>=n}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(y):y(e[1]))}function b(e){return w(e)||k(e)}function T(e,n){if(!m(e))return!1;if(e=f(e),n=null!==(n=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(n))?n.slice(1,6):void 0,e&&n){if(!function(e,n){if(n=n.split("."),e=e.split("."),n&&e){if(n.length!==e.length)return!1;for(var t=0;t<e.length;t++)if(!C(n[t],e[t]))return!1;return!0}return!1}(e[0],n[0]))return!1;for(var t=1;5>t;t++)if(!C(e[t],n[t]))return!1;return!0}return!1}function C(e,n){return e&&n&&"*"===e||e===n}function _(e){return Array.isArray(e)?e:[e]}function S(e,n,t,o){var r;return e=_(e).map((function(e){e:if(g(e))e=[e];else{if(h(e)){n:{var r=void 0;try{if(r=e({event:n.getPayload(),eventType:t,eventSchema:o}),Array.isArray(r)&&r.every(g)||g(r)){var i=r;break n}i=void 0;break n}catch(e){}i=void 0}if(g(i)){e=[i];break e}if(Array.isArray(i)){e=i;break e}}e=void 0}if(e&&0!==e.length)return e})),(r=[]).concat.apply(r,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function E(e,n){return"function"==typeof e?e===n:JSON.stringify(e)===JSON.stringify(n)}function P(e,n){if(b(e)){if(!b(n))return!1;var t=e[1],o=n[1];return!!E(e[0],n[0])&&(Array.isArray(t)?!(!Array.isArray(o)||t.length!==o.length)&&t.reduce((function(e,n,t){return e&&E(n,o[t])}),!0):!Array.isArray(o)&&E(t,o))}return!!y(e)&&!!y(n)&&E(e,n)}function x(e){void 0===e&&(e={});var n,t,r,a,u,l,d,f=!0,m=e.base64,p=e.corePlugins,v=null!=p?p:[];n=null==m||m,t=v,r=e.callback,a=function(e){return{addPluginContexts:function(n){var t=n?o([],n,!0):[];return e.forEach((function(e){try{e.contexts&&t.push.apply(t,e.contexts())}catch(e){vn.error("Error adding plugin contexts",e)}})),t}}}(t),u=function(){var e=[],n=[],t={},o={};return{getGlobalPrimitives:function(){return e.concat(Object.values(t))},getConditionalProviders:function(){return n.concat(Object.values(o))},addGlobalContexts:function(r){if(Array.isArray(r)){for(var i=[],a=[],c=0;c<r.length;c++){var u=r[c];b(u)?i.push(u):y(u)&&a.push(u)}e=e.concat(a),n=n.concat(i)}else for(i=0,r=Object.entries(r);i<r.length;i++)a=(u=r[i])[0],b(u=u[1])?o[a]=u:y(u)&&(t[a]=u)},clearGlobalContexts:function(){n=[],e=[],o={},t={}},removeGlobalContexts:function(r){for(var i=function(r){"string"==typeof r?(delete o[r],delete t[r]):b(r)?n=n.filter((function(e){return!P(r,e)})):y(r)&&(e=e.filter((function(e){return!P(r,e)})))},a=0;a<r.length;a++)i(r[a])},getApplicableContexts:function(r){e:{for(var i=0,a=r.getJson();i<a.length;i++){var c=a[i];if("ue_px"===c.keyIfEncoded&&"object"==typeof c.json.data&&"string"==typeof(c=c.json.data.schema)){i=c;break e}}i=""}c="string"==typeof(a=r.getPayload().e)?a:"",a=[];var u=S(e.concat(Object.values(t)),r,c,i);return a.push.apply(a,u),r=function(e,n,t,o){var r;return e=_(e).map((function(e){e:{if(w(e)){var r=e[0],i=!1;try{i=r({event:n.getPayload(),eventType:t,eventSchema:o})}catch(e){i=!1}if(!0===i){e=S(e[1],n,t,o);break e}}else if(k(e)&&function(e,n){var t=0,o=0,r=e.accept;return Array.isArray(r)?e.accept.some((function(e){return T(e,n)}))&&o++:"string"==typeof r&&T(r,n)&&o++,r=e.reject,Array.isArray(r)?e.reject.some((function(e){return T(e,n)}))&&t++:"string"==typeof r&&T(r,n)&&t++,0<o&&0===t}(e[0],o)){e=S(e[1],n,t,o);break e}e=[]}if(e&&0!==e.length)return e})),(r=[]).concat.apply(r,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(n.concat(Object.values(o)),r,c,i),a.push.apply(a,r),a}}}(),l=n,d={};var g=an(an({},e={track:function(e,n,o){if(f){if(e.withJsonProcessor(c(l)),e.add("eid",i()),e.addDict(d),o=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(o),e.add(o.type,o.value.toString()),n=function(e,n){e=u.getApplicableContexts(e);var t=[];return n&&n.length&&t.push.apply(t,n),e&&e.length&&t.push.apply(t,e),t}(e,a.addPluginContexts(n)),void 0!==(n=n&&n.length?{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:n}:void 0)&&e.addJson("cx","co",n),t.forEach((function(n){try{n.beforeTrack&&n.beforeTrack(e)}catch(e){vn.error("Plugin beforeTrack",e)}})),!t.find((function(n){try{return n.filter&&!1===n.filter(e.build())}catch(e){return vn.error("Plugin filter",e),!1}}))){"function"==typeof r&&r(e);var s=e.build();return t.forEach((function(e){try{e.afterTrack&&e.afterTrack(s)}catch(e){vn.error("Plugin afterTrack",e)}})),s}}else vn.error("Track called on deactivated tracker")},addPayloadPair:function(e,n){d[e]=n},getBase64Encoding:function(){return l},setBase64Encoding:function(e){l=e},addPayloadDict:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(d[n]=e[n])},resetPayloadPairs:function(e){d=s(e)?e:{}},setTrackerVersion:function(e){d.tv=e},setTrackerNamespace:function(e){d.tna=e},setAppId:function(e){d.aid=e},setPlatform:function(e){d.p=e},setUserId:function(e){d.uid=e},setScreenResolution:function(e,n){d.res=e+"x"+n},setViewport:function(e,n){d.vp=e+"x"+n},setColorDepth:function(e){d.cd=e},setTimezone:function(e){d.tz=e},setLang:function(e){d.lang=e},setIpAddress:function(e){d.ip=e},setUseragent:function(e){d.ua=e},addGlobalContexts:function(e){u.addGlobalContexts(e)},clearGlobalContexts:function(){u.clearGlobalContexts()},removeGlobalContexts:function(e){u.removeGlobalContexts(e)}}),{addPlugin:function(e){var n,t;e=e.plugin,v.push(e),null===(n=e.logger)||void 0===n||n.call(e,vn),null===(t=e.activateCorePlugin)||void 0===t||t.call(e,g)},deactivate:function(){v.forEach((function(e){var n;null===(n=e.deactivatePlugin)||void 0===n||n.call(e,g)})),v.length=0,f=!1}});return null==v||v.forEach((function(e){var n,t;null===(n=e.logger)||void 0===n||n.call(e,vn),null===(t=e.activateCorePlugin)||void 0===t||t.call(e,g)})),g}function O(e){var n=e.event;return e={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:e=n.schema,data:n.data}},(n=a()).add("e","ue"),n.addJson("ue_px","ue_pr",e),n}function A(e){return O({event:e={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:j({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})}})}function j(e,n){void 0===n&&(n={});var t,o={};for(t in e)(n[t]||null!==e[t]&&void 0!==e[t])&&(o[t]=e[t]);return o}function I(e){var n=e.maxSize,t=void 0===n?1e3:n,r=o([],void 0===(e=e.events)?[]:e,!0),i=function(){return Promise.resolve(r.length)};return{count:i,add:function(e){for(r.push(e);r.length>t;)r.shift();return i()},removeHead:function(e){for(var n=0;n<e;n++)r.shift();return Promise.resolve()},iterator:function(){var e=0,n=o([],r,!0);return{next:function(){return e<n.length?Promise.resolve({value:n[e++],done:!1}):Promise.resolve({value:void 0,done:!0})}}},getAll:function(){return Promise.resolve(o([],r,!0))},getAllPayloads:function(){return Promise.resolve(r.map((function(e){return e.payload})))}}}function L(e){function n(){var e=k.reduce((function(e,n){return e+(b?n.getPOSTRequestBytesCount():n.getGETRequestBytesCount())}),0);return b&&(e+=88),e}function t(){var e=new Headers;return b&&e.append("Content-Type","application/json; charset=UTF-8"),f&&Object.keys(f).forEach((function(n){e.append(n,f[n])})),0<k.length&&k[0].getServerAnonymization()&&e.append("SP-Anonymous","*"),e}function o(){var e=a;return a.includes("://")||(e="".concat(u,"://").concat(a)),s&&(e="".concat(e,":").concat(s)),e+(b?g:"/i")}function r(e,n){return i(!1),d=new AbortController,l=setTimeout((function(){console.error("Request timed out"),l=void 0,i(!1,"Request timed out")}),null!=m?m:5e3),n=an({headers:t(),signal:d.signal,keepalive:v,credentials:w},n),new Request(e,n)}function i(e,n){if(void 0!==l&&(clearTimeout(l),l=void 0),void 0!==d){var t=d;d=void 0,e||t.abort(n)}}var a=e.endpoint,c=e.protocol,u=void 0===c?"https":c,s=e.port;c=e.eventMethod;var l,d,f=e.customHeaders,m=e.connectionTimeout,p=e.keepalive,v=void 0!==p&&p,g=void 0===(p=e.postPath)?"/com.snowplowanalytics.snowplow/tp2":p,h=void 0===(p=e.useStm)||p,y=void 0===(p=e.maxPostBytes)?4e4:p,w=void 0===(e=e.credentials)?"include":e,k=[],b="post"===(void 0===c?"post":c).toLowerCase();return{addEvent:function(e){return!(0<k.length&&(0<k.length?k[0].getServerAnonymization():void 0)!==e.getServerAnonymization()||(k.push(e),0))},getEvents:function(){return k},toRequest:function(){if(0!==k.length){if(b)return function(){var e=function(e){for(var n=(new Date).getTime().toString(),t=0;t<e.length;t++)e[t].stm=n;return e}(k.map((function(e){return e.getPOSTRequestBody()})));return r(o(),{method:"POST",body:JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})})}();if(1!==k.length)throw Error("Only one event can be sent in a GET request");return r(k[0].getGETRequestURL(o(),h),{method:"GET"})}},countBytes:n,countEvents:function(){return k.length},isFull:function(){return b?n()>=y:1<=k.length},closeRequest:i}}function U(e){for(var n=0,t=0;t<e.length;t++){var o=e.charCodeAt(t);127>=o?n+=1:2047>=o?n+=2:55296<=o&&57343>=o?(n+=4,t++):n=65535>o?n+3:n+4}return n}function B(e){function n(){return e.payload}function t(e){if(null===r){var n,t={co:!0,cx:!0},o=[];for(n in e)e.hasOwnProperty(n)&&!t[n]&&o.push(n+"="+encodeURIComponent(e[n]));for(var i in t)e.hasOwnProperty(i)&&t[i]&&o.push(i+"="+encodeURIComponent(e[i]));r="?"+o.join("&")}return r}function o(){return null===i&&(i=function(e){return Object.keys(e).map((function(n){return[n,e[n]]})).reduce((function(e,n){return e[n[0]]=n[1].toString(),e}),{})}(n())),i}var r=null,i=null,a=null,c=null;return{getPayload:n,getServerAnonymization:function(){var n;return null!==(n=e.svrAnon)&&void 0!==n&&n},getGETRequestURL:function(e,o){var r=t(n());return o?e+r.replace("?","?stm="+(new Date).getTime()+"&"):e+r},getGETRequestBytesCount:function(){if(null===a){var e=t(n());a=U(e)}return a},getPOSTRequestBody:o,getPOSTRequestBytesCount:function(){return null===c&&(c=U(JSON.stringify(o()))),c}}}function R(e){function o(e,n){void 0!==P&&setTimeout((function(){try{null==P||P(e,n)}catch(e){vn.error("Error in onRequestFailure",e)}}),0)}function r(e){return n(this,void 0,void 0,(function(){var n,r,i,a,c,u;return t(this,(function(t){switch(t.label){case 0:if(void 0===(n=e.toRequest()))throw Error("Empty batch");r=e.getEvents().map((function(e){return e.getPayload()})),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,O(n)];case 2:return[4,(i=t.sent()).text()];case 3:return t.sent(),e.closeRequest(!0),i.ok?(function(e,n){void 0!==x&&setTimeout((function(){try{null==x||x(e,n)}catch(e){vn.error("Error in onRequestSuccess",e)}}),0)}(r,i),[2,{success:!0,retry:!1,status:i.status}]):(a=function(e){return!(200<=e&&300>e||!E||!S.includes(e)&&_.includes(e))}(i.status),o({events:r,status:i.status,message:i.statusText,willRetry:a},i),[2,{success:!1,retry:a,status:i.status}]);case 4:return c=t.sent(),e.closeRequest(!1),u="string"==typeof c?c:c?c.message:"Unknown error",o({events:r,message:u,willRetry:!0}),[2,{success:!1,retry:!0}];case 5:return[2]}}))}))}function i(){return L({endpoint:s,protocol:m,port:p,eventMethod:d,customHeaders:y,connectionTimeout:k,keepalive:b,maxPostBytes:v,useStm:A,credentials:U,postPath:f})}function a(){return n(this,void 0,void 0,(function(){var e;return t(this,(function(n){switch(n.label){case 0:return!T||R?[3,2]:(R=!0,e=new Request(T,{method:"GET"}),[4,O(e)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function c(){return n(this,void 0,void 0,(function(){var e;return t(this,(function(n){switch(n.label){case 0:if(D)return[3,5];D=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,u()];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),vn.error("Error sending events",e),[3,5];case 4:return D=!1,[7];case 5:return[2]}}))}))}function u(){return n(this,void 0,void 0,(function(){var e,n,o,c,s,l,d,f,m;return t(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:t.sent(),e=i(),n=j.iterator(),t.label=2;case 2:return e.isFull()?[3,4]:[4,n.next()];case 3:return o=t.sent(),c=o.value,o.done||void 0===c?[3,4]:(s=B(c),e.addEvent(s)?[3,2]:[3,4]);case 4:return 0===e.countEvents()?[2]:[4,r(e)];case 5:return l=t.sent(),d=l.success,f=l.retry,m=l.status,!d&&f?[3,7]:(d||vn.error("Status ".concat(m,", will not retry.")),[4,j.removeHead(e.countEvents())]);case 6:t.sent(),t.label=7;case 7:return d?[4,u()]:[3,9];case 8:t.sent(),t.label=9;case 9:return[2]}}))}))}var s=e.endpoint,l=e.eventMethod,d=void 0===l?"post":l,f=e.postPath,m=e.protocol,p=e.port,v=void 0===(l=e.maxPostBytes)?4e4:l,g=e.maxGetBytes,h=void 0===(l=e.bufferSize)?1:l,y=e.customHeaders,w=e.serverAnonymization,k=e.connectionTimeout,b=e.keepalive,T=e.cookieExtensionService;l=e.idService;var C=e.dontRetryStatusCodes,_=void 0===C?[]:C,S=void 0===(C=e.retryStatusCodes)?[]:C,E=void 0===(C=e.retryFailedRequests)||C,P=e.onRequestFailure,x=e.onRequestSuccess,O=void 0===(C=e.customFetch)?fetch:C,A=e.useStm,j=void 0===(C=e.eventStore)?I({}):C,U=e.credentials;T=T||l;var R=!1,D=!1,N="post"===d.toLowerCase();return _=_.concat([400,401,403,410,422]),{flush:c,input:function(e){return n(this,void 0,void 0,(function(){var n,o,a;return t(this,(function(t){switch(t.label){case 0:e:{if(t=o=B(n={payload:e,svrAnon:void 0!==(t=w)&&t}),N){var u=(t=t.getPOSTRequestBytesCount()+88)>v;u&&vn.warn("Event ("+t+"B) too big, max is "+v)}else{if(void 0===g){t=!1;break e}(u=(t=t.getGETRequestBytesCount())>g)&&vn.warn("Event ("+t+"B) too big, max is "+g)}t=u}return t?((a=i()).addEvent(o),[4,r(a)]):[3,2];case 1:return t.sent(),[3,5];case 2:return[4,j.add(n)];case 3:return t.sent()>=h?[4,c()]:[3,5];case 4:t.sent(),t.label=5;case 5:return[2]}}))}))},setCollectorUrl:function(e){s=e},setAnonymousTracking:function(e){w=e},setBufferSize:function(e){h=e}}}function D(e){try{var n=window.localStorage;return n.removeItem(e),n.removeItem(e+".expires"),!0}catch(e){return!1}}function N(e){try{return window.sessionStorage.getItem(e)}catch(e){}}function V(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function F(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function M(e){return!(!e||"function"!=typeof e)}function z(e){var n=!(!e||"string"!=typeof e.valueOf());return n||(e=e.text||"",(n=document.getElementsByTagName("title"))&&null!=n[0]&&(e=n[0].text)),e}function G(e){var n=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return n?n[1]:e}function q(e){var n=e.length;return"."===e.charAt(--n)&&(e=e.slice(0,n)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function H(e){var n=window,t=W("referrer",n.location.href)||W("referer",n.location.href);if(t)return t;if(e)return e;try{if(n.top)return n.top.document.referrer;if(n.parent)return n.parent.document.referrer}catch(e){}return document.referrer}function J(e,n,t,o){return e.addEventListener?(e.addEventListener(n,t,o),!0):e.attachEvent?e.attachEvent("on"+n,t):void(e["on"+n]=t)}function W(e,n){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(n))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function Z(e,n,t,o,r){X(e,"",-1,n,t,o,r)}function X(e,n,t,o,r,i,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=n?n:"")+(t?"; Expires="+new Date(+new Date+1e3*t).toUTCString():"")+(o?"; Path="+o:"")+(r?"; Domain="+r:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Q(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var n=Object.prototype.hasOwnProperty.call(e,"allowlist"),t=ee(e);return $(e,(function(e){e:{var o=0;for(e=K(e);o<e.length;o++)if(t[e[o]]){o=!0;break e}o=!1}return o===n}))}function Y(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var n=e.hasOwnProperty("allowlist"),t=ee(e);return $(e,(function(e){return e.name in t===n}))}function K(e){return e.className.match(/\S+/g)||[]}function $(e,n){return e.hasOwnProperty("filter")&&e.filter?e.filter:n}function ee(e){var n={};if(e=e.allowlist||e.denylist){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)n[e[t]]=!0}return n}function ne(e,n){var t,o=null!==(t=e.eventStore)&&void 0!==t?t:function(e){function n(){return r?a().then((function(e){window.localStorage.setItem(i,JSON.stringify(e))})):Promise.resolve()}var t=e.maxLocalStorageQueueSize,o=void 0===t?1e3:t,r=void 0===(t=e.useLocalStorage)||t,i="snowplowOutQueue_".concat(e.trackerId),a=(e=function(){if(r){var e=window.localStorage.getItem(i);return e=e?JSON.parse(e):[],I({maxSize:o,events:e})}return I({maxSize:o})}()).getAll,c=e.add,u=e.count,s=e.removeHead;return{count:u,add:function(e){return c(e),n().then(u)},removeHead:function(e){return s(e),n()},iterator:e.iterator,getAll:a,getAllPayloads:e.getAllPayloads,setUseLocalStorage:function(e){r=e}}}(e);return e.eventStore=o,e=R(e),n.bufferFlushers.push(e.flush),{enqueueRequest:e.input,executeQueue:e.flush,setAnonymousTracking:e.setAnonymousTracking,setCollectorUrl:e.setCollectorUrl,setBufferSize:e.setBufferSize,setUseLocalStorage:function(e){o.hasOwnProperty("setUseLocalStorage")&&o.setUseLocalStorage(e)}}}function te(e,n,t){return"translate.googleusercontent.com"===e?(""===t&&(t=n),e=G(n=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(n))&&1<(null==e?void 0:e.length)?W("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=G(n=document.links[0].href)),[e,n,t]}function oe(e,n){return void 0===n&&(n={memorizedVisitCount:1}),n=n.memorizedVisitCount,"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=n,n=i(),e[6]=n,e[10]=0,e[8]="",e[9]=void 0,n}function re(e){e[4]=Math.round((new Date).getTime()/1e3)}function ie(e,n,t){var o=e[9];return{userId:t?"00000000-0000-0000-0000-000000000000":e[1],sessionId:e[6],eventIndex:e[10],sessionIndex:e[3],previousSessionId:t?null:e[7]||null,storageMechanism:"localStorage"==n?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[8]||null,firstEventTimestamp:o?new Date(o).toISOString():null}}function ae(){return"ResizeObserver"in window?(kn||(kn=ce()),function(){if(!_n&&document&&document.body&&document.documentElement){_n=!0;var e=new ResizeObserver((function(){Sn||(Sn=requestAnimationFrame((function(){Sn=null,kn=ce()})))}));e.observe(document.body),e.observe(document.documentElement)}}(),kn):ce()}function ce(){if("innerWidth"in window)var e=window.innerWidth,n=window.innerHeight;else e=(n=document.documentElement||document.body).clientWidth,n=n.clientHeight;e=ue(Math.max(0,e),Math.max(0,n)),n=document.documentElement;var t=document.body;return{viewport:e,documentSize:n=ue(Math.max(n.clientWidth,n.offsetWidth,n.scrollWidth),Math.max(n.clientHeight,n.offsetHeight,n.scrollHeight,t?Math.max(t.offsetHeight,t.scrollHeight):0)),resolution:ue(screen.width,screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:window.navigator.language||window.navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:Math.floor(window.navigator.hardwareConcurrency)||void 0}}function ue(e,n){return isNaN(e)||isNaN(n)?null:Math.floor(e)+"x"+Math.floor(n)}function se(e,n,t,r,c,u){void 0===u&&(u={});var s=[];e=function(e,n,t,r,c,u){function l(){(He=te(window.location.hostname,window.location.href,H()))[1]!==We&&(Ze=H(We)),Je=q(He[0]),We=He[1]}function d(e){for(var n=function(e){return function(n){var t=n.currentTarget;if(n=function(e,n,t){var o,r=(new Date).getTime();n=an(an({},Cn),n);var i=t.domainUserId,a=t.userId,c=t.sessionId,u=t.sourceId,s=t.sourcePlatform,l=t.event,d=l.currentTarget;return l="function"==typeof n.reason?n.reason(l):null===(o=null==d?void 0:d.textContent)||void 0===o?void 0:o.trim(),e?[i,r,n.sessionId&&c,n.userId&&V(a||""),n.sourceId&&V(u||""),n.sourcePlatform&&s,n.reason&&V(l||"")].map((function(e){return e||""})).join(".").replace(/([.]*$)/,""):t.domainUserId+"."+r}(e,Un,{domainUserId:Ne,userId:Fe||void 0,sessionId:Ve,sourceId:Qe,sourcePlatform:Xe,event:n}),null!=t&&t.href){n="_sp="+n;var o=t.href.split("#"),r=o[0].split("?"),i=r.shift();if(r=r.join("?")){for(var a=!0,c=r.split("&"),u=0;u<c.length;u++)if("_sp="===c[u].substr(0,4)){a=!1,c[u]=n,r=c.join("&");break}a&&(r=n+"&"+r)}else r=n;o[0]=i+"?"+r,n=o.join("#"),t.href=n}}}(Ln),t=0;t<document.links.length;t++){var o=document.links[t];!o.spDecorationEnabled&&e(o)&&(o.addEventListener("click",n,!0),o.addEventListener("mousedown",n,!0),o.spDecorationEnabled=!0)}}function f(e){if(Oe){var n=/#.*/;e=e.replace(n,"")}return Ae&&(n=/[{}]/g,e=e.replace(n,"")),e}function m(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function p(e){if(e=nn+e+"."+De,"localStorage"==hn){try{var n=window.localStorage,t=n.getItem(e+".expires");if(null===t||+t>Date.now())var o=n.getItem(e);else n.removeItem(e),n.removeItem(e+".expires"),o=void 0}catch(e){o=void 0}return o}if("cookie"==hn||"cookieAndLocalStorage"==hn)return Se.getCookie(e)}function v(){l(),De=Tn((tn||Je)+(rn||"/")).slice(0,4)}function g(){Ie=(new Date).getTime()}function h(){var e=y(),n=e[0];n<Le?Le=n:n>Ue&&(Ue=n),(e=e[1])<Be?Be=e:e>Re&&(Re=e),g()}function y(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function w(){var e=y(),n=e[0];Ue=Le=n,Re=Be=e=e[1]}function k(){return T(nn+"ses."+De,"*",fn)}function b(e){var n=nn+"id."+De,t=gn;return e=o([],e,!0),t&&(e[1]="",e[7]=""),e.shift(),T(n,t=e.join("."),dn)}function T(e,n,t){if(gn&&!mn)return!1;if("localStorage"==hn){void 0===t&&(t=63072e3);try{var o=window.localStorage,r=Date.now()+1e3*t;o.setItem("".concat(e,".expires"),r.toString()),o.setItem(e,n);var i=!0}catch(e){i=!1}return i}return("cookie"==hn||"cookieAndLocalStorage"==hn)&&Se.setCookie(e,n,t,rn,tn,cn,un)}function C(e){var n=nn+"id."+De,t=nn+"ses."+De;D(n),D(t),Se.deleteCookie(n,rn,tn,cn,un),Se.deleteCookie(t,rn,tn,cn,un),null!=e&&e.preserveSession||(Ve=i(),wn=1),null!=e&&e.preserveUser||(Ne=gn?"":i(),Fe=null)}function _(e){e&&e.stateStorageStrategy&&(u.stateStorageStrategy=e.stateStorageStrategy,hn=ke(u)),gn=!!u.anonymousTracking,mn=be(u),pn=Te(u),kn.setUseLocalStorage("localStorage"==hn||"cookieAndLocalStorage"==hn),kn.setAnonymousTracking(pn)}function S(){if(!gn||mn){var e="none"!=hn&&!!p("ses"),n=E();if(n[1])var t=n[1];else t=gn?"":i(),n[1]=t;Ne=t,Ve=e?n[6]:oe(n),wn=n[3],"none"!=hn&&(k(),re(n),b(n),n[10]||Se.flush())}}function E(){return"none"==hn?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,n,t,o){var r=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",n,r,o,r,"",t],e[6]&&"undefined"!==e[6]||(e[6]=i()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=0);var a=function(e,n){return e=parseInt(e),isNaN(e)?n:e};return n=function(e){return e?a(e,void 0):void 0},[e[0],e[1],a(e[2],r),a(e[3],o),a(e[4],r),n(e[5]),e[6],e[7],e[8],n(e[9]),a(e[10],0)]}(p("id")||void 0,Ne,Ve,wn)}function P(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function O(){bn&&null!=c.pageViewId||(c.pageViewId=i(),c.pageViewUrl=Pe||We)}function A(){return function(){if(null==c.pageViewId)return!0;if(bn||!_n)return!1;if(void 0===c.pageViewUrl)return!0;var e=Pe||We;if(!0===_n||"full"==_n||!("URL"in window))return c.pageViewUrl!=e;e=new URL(e);var n=new URL(c.pageViewUrl);return"pathname"==_n?e.pathname!=n.pathname:"pathnameAndSearch"==_n&&(e.pathname!=n.pathname||e.search!=n.search)}()&&(c.pageViewId=i(),c.pageViewUrl=Pe||We),c.pageViewId}function j(){if("none"===hn||gn||!_e)return null;var e=N("_sp_tab_id");if(!e){e=i();try{window.sessionStorage.setItem("_sp_tab_id",e)}catch(e){}e=N("_sp_tab_id")}return e||null}function I(e,n,t){var o=function(e,n){l(),e({context:n,pageViewId:A(),minXOffset:Le,minYOffset:Be,maxXOffset:Ue,maxYOffset:Re}),w()},r=function(){Ie+e.configHeartBeatTimer>(new Date).getTime()&&o(e.callback,(n||[]).concat(t?t():[]))};e.activityInterval=0===e.configMinimumVisitLength?window.setInterval(r,e.configHeartBeatTimer):window.setTimeout((function(){Ie+e.configMinimumVisitLength>(new Date).getTime()&&o(e.callback,(n||[]).concat(t?t():[])),e.activityInterval=window.setInterval(r,e.configHeartBeatTimer)}),e.configMinimumVisitLength)}function L(e){var n=e.minimumVisitLength,t=e.heartbeatDelay;if(e=e.callback,F(n)&&F(t))return{configMinimumVisitLength:1e3*n,configHeartBeatTimer:1e3*t,callback:e};vn.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function U(e){var n=e.context,t=e.minXOffset,o=e.minYOffset,r=e.maxXOffset,i=e.maxYOffset;(e=document.title)!==Ke&&(Ke=e,xe=void 0);var c=(e=Ge).track,u=f(Pe||We),s=z(xe||Ke),l=f(Ee||Ze);t=Math.round(t),r=Math.round(r),o=Math.round(o),i=Math.round(i);var d=a();d.add("e","pp"),d.add("url",u),d.add("page",s),d.add("refr",l),t&&!isNaN(Number(t))&&d.add("pp_mix",t.toString()),r&&!isNaN(Number(r))&&d.add("pp_max",r.toString()),o&&!isNaN(Number(o))&&d.add("pp_miy",o.toString()),i&&!isNaN(Number(i))&&d.add("pp_may",i.toString()),c.call(e,d,n)}function B(e){var n=xn.configurations[e];0===(null==n?void 0:n.configMinimumVisitLength)?window.clearTimeout(null==n?void 0:n.activityInterval):window.clearInterval(null==n?void 0:n.activityInterval),xn.configurations[e]=void 0}var R,M,Q,Y,K,$,ee,ce,ue,se,le,de,fe,me,pe,ve,ge,he,ye,we;u.eventMethod=null!==(R=u.eventMethod)&&void 0!==R?R:"post";var ke=function(e){var n;return null!==(n=e.stateStorageStrategy)&&void 0!==n?n:"cookieAndLocalStorage"},be=function(e){var n;return"boolean"!=typeof e.anonymousTracking&&!0===(null===(n=e.anonymousTracking)||void 0===n?void 0:n.withSessionTracking)},Te=function(e){var n;return"boolean"!=typeof e.anonymousTracking&&!0===(null===(n=e.anonymousTracking)||void 0===n?void 0:n.withServerAnonymisation)},Ce=null!==(Q=null===(M=null==u?void 0:u.contexts)||void 0===M?void 0:M.browser)&&void 0!==Q&&Q,_e=null===(K=null===(Y=null==u?void 0:u.contexts)||void 0===Y?void 0:Y.webPage)||void 0===K||K,Se=u.synchronousCookieWrite?Pn:En;s.push({beforeTrack:function(e){var n=p("ses"),t=E(),o=0===t[10];if(Me=!!je&&!!Se.getCookie(je),ln||Me)C();else{if("0"===t[0]?(Ve=n||"none"==hn?t[6]:oe(t),wn=t[3]):(new Date).getTime()-yn>1e3*fn&&(wn++,Ve=oe(t,{memorizedVisitCount:wn})),re(t),0===t[10]){var r=e.build();t[8]=r.eid,r=r.dtm||r.ttm,t[9]=r?parseInt(r):void 0}t[10]+=1;var i=(r=ae()).documentSize;e.add("vp",r.viewport),e.add("ds",i),e.add("vid",mn?wn:gn?null:wn),e.add("sid",mn?Ve:gn?null:Ve),e.add("duid",gn?null:t[1]),e.add("uid",gn?null:Fe),l(),e.add("refr",f(Ee||Ze)),e.add("url",f(Pe||We)),r=ie(t,hn,gn),!On||gn&&!mn||e.addContextEntity({schema:"iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",data:r}),"none"!=hn&&(b(t),e=k(),n&&!o||!e||!An||jn||(Se.flush(),An(r),jn=!1)),yn=(new Date).getTime()}}}),_e&&s.push({contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:A()}}]}}),Ce&&s.push({contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",data:an(an({},ae()),{tabId:j()})}]}}),s.push.apply(s,null!==($=u.plugins)&&void 0!==$?$:[]);var Ee,Pe,xe,Oe,Ae,je,Ie,Le,Ue,Be,Re,De,Ne,Ve,Fe,Me,ze,Ge=x({base64:null!==(ee=u.encodeBase64)&&void 0!==ee?ee:"post"!==u.eventMethod,corePlugins:s,callback:function(e){ln||Me||kn.enqueueRequest(e.build())}}),qe=document.characterSet||document.charset,He=te(window.location.hostname,window.location.href,H()),Je=q(He[0]),We=He[1],Ze=He[2],Xe=null!==(ce=u.platform)&&void 0!==ce?ce:"web",Qe=null!==(ue=u.appId)&&void 0!==ue?ue:"",Ye=u.appVersion,Ke=document.title,$e=!1,en=null===(se=u.resetActivityTrackingOnPageView)||void 0===se||se,nn=null!==(le=u.cookieName)&&void 0!==le?le:"_sp_",tn=null!==(de=u.cookieDomain)&&void 0!==de?de:void 0,on=null!==(fe=u.discoverRootDomain)&&void 0!==fe?fe:void 0===tn,rn="/",cn=null!==(me=u.cookieSameSite)&&void 0!==me?me:"Lax",un=null===(pe=u.cookieSecure)||void 0===pe||pe,sn=window.navigator.doNotTrack||window.navigator.msDoNotTrack||window.doNotTrack,ln=void 0!==u.respectDoNotTrack&&u.respectDoNotTrack&&("yes"===sn||"1"===sn),dn=null!==(ve=u.cookieLifetime)&&void 0!==ve?ve:63072e3,fn=null!==(ge=u.sessionCookieTimeout)&&void 0!==ge?ge:1800,mn=be(u),pn=Te(u),gn=!!u.anonymousTracking,hn=ke(u),yn=(new Date).getTime(),wn=1,kn=ne(an({trackerId:e,endpoint:P(r),serverAnonymization:pn,useLocalStorage:"localStorage"==hn||"cookieAndLocalStorage"==hn},u),c),bn=!1,_n=null!==(he=u.preservePageViewIdForUrl)&&void 0!==he&&he,Sn=void 0,xn={enabled:!1,installed:!1,configurations:{}},On=null!==(we=null===(ye=u.contexts)||void 0===ye?void 0:ye.session)&&void 0!==we&&we,An=u.onSessionUpdateCallback,jn=!1,In="boolean"==typeof(ze=u.useExtendedCrossDomainLinker||!1)?{useExtendedCrossDomainLinker:ze}:{useExtendedCrossDomainLinker:!0,collectCrossDomainAttributes:ze},Ln=In.useExtendedCrossDomainLinker,Un=In.collectCrossDomainAttributes;on&&!tn&&(tn=function(e,n){for(var t=window.location.hostname,o="_sp_root_domain_test_"+(new Date).getTime(),r="_test_value_"+(new Date).getTime(),i=t.split("."),a=i.length-2;0<=a;a--){var c=i.slice(a).join(".");if(X(o,r,0,"/",c,e,n),X(o)===r){for(Z(o,"/",c,e,n),t=document.cookie.split("; "),o=[],r=0;r<t.length;r++)"_sp_root_domain_test_"===t[r].substring(0,21)&&o.push(t[r]);for(t=o,o=0;o<t.length;o++)Z(t[o],"/",c,e,n);return c}}return t}(cn,un));var Bn=ae(),Rn=Bn.browserLanguage,Dn=Bn.resolution,Nn=Bn.colorDepth,Vn=Bn.cookiesEnabled,Fn="object"==typeof Intl&&"function"==typeof Intl.DateTimeFormat?(new Intl.DateTimeFormat).resolvedOptions().timeZone:void 0;return Ge.setTrackerVersion(t),Ge.setTrackerNamespace(n),Ge.setAppId(Qe),Ge.setPlatform(Xe),Ge.addPayloadPair("cookie",Vn?"1":"0"),Ge.addPayloadPair("cs",qe),Ge.addPayloadPair("lang",Rn),Ge.addPayloadPair("res",Dn),Ge.addPayloadPair("cd",Nn),Fn&&Ge.addPayloadPair("tz",Fn),Ye&&Ge.addPlugin({plugin:{contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/application/jsonschema/1-0-0",data:{version:Ye}}]}}}),v(),S(),u.crossDomainLinker&&d(u.crossDomainLinker),an(an({},{getDomainSessionIndex:function(){return wn},getPageViewId:A,getTabId:j,newSession:function(){var e=E();if("0"===e[0]?(Ve="none"!=hn?oe(e):e[6],wn=e[3]):(wn++,Ve=oe(e,{memorizedVisitCount:wn})),re(e),"none"!=hn){var n=ie(e,hn,gn);b(e),e=k(),Se.flush(),e&&An&&(jn=!0,An(n))}yn=(new Date).getTime()},getCookieName:function(e){return nn+e+"."+De},getUserId:function(){return Fe},getDomainUserId:function(){return E()[1]},getDomainUserInfo:function(){return E()},setReferrerUrl:function(e){Ee=e},setCustomUrl:function(e){l();var n,t=We;m(e)?Pe=e:"/"===e.slice(0,1)?Pe=m(t)+"://"+G(t)+e:(0<=(n=(t=f(t)).indexOf("?"))&&(t=t.slice(0,n)),(n=t.lastIndexOf("/"))!==t.length-1&&(t=t.slice(0,n+1)),Pe=t+e)},setDocumentTitle:function(e){Ke=document.title,xe=e,$e=!1},discardHashTag:function(e){Oe=e},discardBrace:function(e){Ae=e},setCookiePath:function(e){rn=e,v()},setVisitorCookieTimeout:function(e){dn=e},crossDomainLinker:function(e){d(e)},enableActivityTracking:function(e){xn.configurations.pagePing||(xn.enabled=!0,xn.configurations.pagePing=L(an(an({},e),{callback:U})))},enableActivityTrackingCallback:function(e){xn.configurations.callback||(xn.enabled=!0,xn.configurations.callback=L(e))},disableActivityTracking:function(){B("pagePing")},disableActivityTrackingCallback:function(){B("callback")},updatePageActivity:function(){g()},setOptOutCookie:function(e){je=e},setUserId:function(e){Fe=e},setUserIdFromLocation:function(e){l(),Fe=W(e,We)},setUserIdFromReferrer:function(e){l(),Fe=W(e,Ze)},setUserIdFromCookie:function(e){Fe=Se.getCookie(e)},setCollectorUrl:function(e){kn.setCollectorUrl(P(e))},setBufferSize:function(e){kn.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),kn.executeQueue(),e.newBufferSize&&kn.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),function(e){var n=e.title,t=e.context,o=e.timestamp;if(e=e.contextCallback,l(),Sn&&Sn==A()&&O(),Sn=A(),Ke=document.title,n?(xe=n,$e=!0):$e&&(xe=null),n=z(xe||Ke),Ge.track(function(e){var n=e.pageUrl,t=e.pageTitle;e=e.referrer;var o=a();return o.add("e","pv"),o.add("url",n),o.add("page",t),o.add("refr",e),o}({pageUrl:f(Pe||We),pageTitle:n,referrer:f(Ee||Ze)}),(t||[]).concat(e?e():[]),o),o=new Date,n=!1,xn.enabled&&!xn.installed){n=xn.installed=!0;var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),t=function(){};window.addEventListener("testPassiveEventSupport",t,n),window.removeEventListener("testPassiveEventSupport",t,n),r.hasSupport=e}}};r.update();var i="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(r,"hasSupport")?J(document,i,g,{passive:!0}):J(document,i,g),w(),i=function(e,n){return void 0===n&&(n=g),function(e){return J(document,e,n)}},"click mouseup mousedown mousemove keypress keydown keyup touchend touchstart".split(" ").forEach(i(document)),["resize","focus","blur"].forEach(i(window)),i(window,h)("scroll")}if(xn.enabled&&(en||n))for(o in Ie=o.getTime(),o=void 0,xn.configurations)(n=xn.configurations[o])&&(window.clearInterval(n.activityInterval),I(n,t,e))}(e)},preservePageViewId:function(){bn=!0},preservePageViewIdForUrl:function(e){_n=e},disableAnonymousTracking:function(e){var n=(null==e?void 0:e.stateStorageStrategy)&&e.stateStorageStrategy!==hn&&(!gn||mn)&&p("ses");u.anonymousTracking=!1,_(e),n&&k(),S(),kn.executeQueue()},enableAnonymousTracking:function(e){var n;u.anonymousTracking=null===(n=e&&(null==e?void 0:e.options))||void 0===n||n,_(e),mn||O()},clearUserData:C}),{id:e,namespace:n,core:Ge,sharedState:c})}(e,n,t,r,c,u);var l=an(an({},e),{addPlugin:function(e){var n,t;l.core.addPlugin(e),null===(t=(n=e.plugin).activateBrowserPlugin)||void 0===t||t.call(n,l)}});return s.forEach((function(e){var n;null===(n=e.activateBrowserPlugin)||void 0===n||n.call(e,l)})),l}function le(e,n){try{me(null!=e?e:Object.keys(xn),xn).forEach(n)}catch(e){vn.error("Function failed",e)}}function de(e,n,t){try{me(null!=e?e:Object.keys(n),n).forEach(t)}catch(e){vn.error("Function failed",e)}}function fe(e,n,t,o,r,i){return xn.hasOwnProperty(e)?null:(xn[e]=se(e,n,t,o,r,i),xn[e])}function me(e,n){for(var t=[],o=0;o<e.length;o++){var r=e[o];n.hasOwnProperty(r)?t.push(n[r]):vn.warn(r+" not configured")}return t}function pe(){function e(){var e;if(!n.hasLoaded)for(n.hasLoaded=!0,e=0;e<n.registeredOnLoadHandlers.length;e++)n.registeredOnLoadHandlers[e]();return!0}var n=new On,t=document,o=window;return t.visibilityState&&J(t,"visibilitychange",(function(){"hidden"==t.visibilityState&&n.bufferFlushers.forEach((function(e){e(!1)}))}),!1),J(o,"beforeunload",(function(){n.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(t.addEventListener?t.addEventListener("DOMContentLoaded",(function n(){t.removeEventListener("DOMContentLoaded",n,!1),e()})):t.attachEvent&&t.attachEvent("onreadystatechange",(function n(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",n),e())})),J(o,"load",e,!1)):e(),n}function ve(e){return void 0===e&&(e=In),{contexts:function(){var n=[],t=an(an({},In),e),r=t.ga4,i=t.ga4MeasurementId,a=t.cookiePrefix;if(t.ua){var c={schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:{}};"__utma __utmb __utmc __utmv __utmz _ga".split(" ").forEach((function(e){var n=X(e);n&&(c.data[e]=n)})),n.push(c)}return r&&((t=Array.isArray(a)?o([],a,!0):[a]).unshift(""),t.forEach((function(e){var t=X(e+"_ga"),r=[];i&&(Array.isArray(i)?o([],i,!0):[i]).forEach((function(n){var t=X(e+n.replace("G-","_ga_"));t&&r.push({measurement_id:n,session_cookie:t})})),(t||r.length)&&n.push({schema:"iglu:com.google.ga4/cookies/jsonschema/1-0-0",data:{_ga:t,session_cookies:r.length?r:void 0,cookie_prefix:e||void 0}})}))),n}}}function ge(){return{activateBrowserPlugin:function(e){Dn[e.id]=e},logger:function(e){Fn=e}}}function he(e){void 0===e&&(e=Object.keys(Dn)),e.forEach((function(e){Dn[e]&&Nn[e]&&(window.removeEventListener("click",Nn[e],!0),window.removeEventListener("mouseup",Nn[e],!0),window.removeEventListener("mousedown",Nn[e],!0))}))}function ye(e,n){void 0===n&&(n=Object.keys(Dn)),de(n,Dn,(function(n){var t,o,r;if("element"in e){var i=null!==(r=null!==(t=e.trackContent)&&void 0!==t?t:null===(o=Vn[n.id])||void 0===o?void 0:o.linkTrackingContent)&&void 0!==r&&r;t=function(e,n){void 0===n&&(n=!1);var t=e.hostname||G(e.href),o=e.href.replace(t,(function(e){return e.toLowerCase()}));if(!Rn.test(o)){t=e.id;var r=K(e),i=e.target;return n=n?e.innerHTML:void 0,o||null==Fn||Fn.warn("Link click target URL empty",e),A({targetUrl:o||"about:invalid",elementId:t,elementClasses:r,elementTarget:i,elementContent:n})}}(e.element,i)}else t=A(e);t&&n.core.track(t,e.context,e.timestamp)})),En.flush()}function we(e,n){var t=Vn[e].linkTrackingContext,o=Vn[e].linkTrackingFilter,r=(n=n||window.event).which||n.button;e:{var i=n.composed?n.composedPath()[0]:n.target||n.srcElement;if(i instanceof Element){if("function"==typeof i.closest){i=i.closest(Bn);break e}for(;i;){var a=i.tagName.toLowerCase();if(-1!==Un.indexOf(a))break e;i=i.parentElement}}i=null}!i||null==i.href||o&&!o(i)||("click"===n.type?ye({element:i,context:l(t,i)},[e]):"mousedown"===n.type?1===r||2===r?(Vn[e].lastButton=r,Vn[e].lastTarget=i):delete Vn[e].lastButton:"mouseup"===n.type&&(r===Vn[e].lastButton&&i===Vn[e].lastTarget&&ye({element:i,context:l(t,i)},[e]),delete Vn[e].lastButton,delete Vn[e].lastTarget))}function ke(e){var n;(null!==(n=Zn[e.id])&&void 0!==n?n:[document]).forEach((function(n){Hn[e.id]&&n.removeEventListener("focus",Hn[e.id],!0),Jn[e.id]&&n.removeEventListener("change",Jn[e.id],!0),Wn[e.id]&&n.removeEventListener("submit",Wn[e.id],!0)}))}function be(e,n){return!("object"!=typeof e||!e||!("tagName"in e)||"string"!=typeof e.tagName)&&e.tagName.toUpperCase()===n}function Te(e){return be(e,"INPUT")||be(e,"SELECT")||be(e,"TEXTAREA")}function Ce(e,n){if(!n)return!0;for(var t=0;t<n.length;t++)if(n[t].isSameNode(e))return!0;return!1}function _e(e){return e&&"function"==typeof e.transform?e.transform:qn}function Se(e){for(var n=0,t=["name","id","type","nodeName"];n<t.length;n++){var o=t[n];if(e[o]&&"string"==typeof e[o])return e[o]}return null}function Ee(e,n,t,o){return function(r){var i,a,c=r.composed?r.composedPath()[0]:r.target;if(c!==r.target&&r.composed&&Te(c)&&(c.form?(Jn[e.id]&&J(c.form,"change",Jn[e.id],!0),Wn[e.id]&&J(c.form,"submit",Wn[e.id],!0)):Jn[e.id]&&J(c,"change",Jn[e.id],!0)),Te(c)&&n.fieldFilter(c)){var u=null;r=be(c,"INPUT")&&("checkbox"===(u=(c.type||"text").toLowerCase())&&!c.checked||"password"===u)?null:n.fieldTransform(c.value,c,c);e:if(c&&c.form)var s=c.form;else{for(var d=c;d;){if(be(d,"FORM")){s=d;break e}d=d.parentNode}s=d}if(s&&n.formFilter(s)&&Ce(s,n.forms)&&("change_form"===t||"checkbox"!==u&&"radio"!==u)){var f=(d=e.core).track;s=null!==(i=Se(null!=s?s:{}))&&void 0!==i?i:"",i=null!==(a=Se(c))&&void 0!==a?a:"",a=u;var m="";s={formId:s,elementId:i,nodeName:c.nodeName,elementClasses:K(c),value:null!=r?r:null},"change_form"===t?(m="iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",s.type=a):"focus_form"===t&&(m="iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0",s.elementType=a),s=O({event:{schema:m,data:j(s,{value:!0})}}),f.call(d,s,l(o,c,u,r))}}}}function Pe(){return{activateBrowserPlugin:function(e){Xn[e.id]=e}}}function xe(e,n){return void 0===n&&(n=8192),e&&e.length>n?e.substring(0,n):e}function Oe(){return{activateBrowserPlugin:function(e){Yn[e.id]=e}}}function Ae(e,n){void 0===n&&(n=Object.keys(Yn));var t=e.message,o=e.filename,r=e.lineno,i=e.colno,a=e.error,c=e.context,u=e.timestamp,s=a&&xe(a.stack,8192),l=t&&xe(t,2048);de(n,Yn,(function(e){e.core.track(O({event:{schema:"iglu:com.snowplowanalytics.snowplow/application_error/jsonschema/1-0-1",data:{programmingLanguage:"JAVASCRIPT",message:null!=l?l:"trackError called without required message",stackTrace:s,lineNumber:r,lineColumn:i,fileName:o}}}),c,u)}))}function je(){return{activateBrowserPlugin:function(e){$n[e.id]=e}}}function Ie(){return{activateBrowserPlugin:function(e){nt[e.id]=e}}}function Le(e){e=an({},e);var n,t={};for(n in e)null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]);return O({event:{schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/snowplow_ecommerce_action/jsonschema/1-0-2",data:t}})}function Ue(){var e;return{activateBrowserPlugin:function(n){e=n.id,ot[e]=n,rt[e]=[]},contexts:function(){return rt[e]||[]}}}function Be(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;n=e(n,["context","timestamp"]),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/checkout_step/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"checkout_step"}),r,i)}))}function Re(e,n){void 0===n&&(n=Object.keys(ot));var t=e.context,o=void 0===t?[]:t,r=e.timestamp;t=e.products;var i=e.name;(void 0===t?[]:t).forEach((function(e){return o.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:an({},e)})})),de(n,ot,(function(e){e.core.track(Le({type:"list_view",name:i}),o,r)}))}function De(e,n){void 0===n&&(n=Object.keys(ot));var t=e.context,o=void 0===t?[]:t,r=e.timestamp,i=e.name;o.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:e.product}),de(n,ot,(function(e){e.core.track(Le({type:"list_click",name:i}),o,r)}))}function Ne(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;n=e(n,["context","timestamp"]),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/promotion/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"promo_view"}),r,i)}))}function Ve(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;n=e(n,["context","timestamp"]),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/promotion/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"promo_click"}),r,i)}))}function Fe(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;n=e(n,["context","timestamp"]),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"product_view"}),r,i)}))}function Me(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;o=void 0===(o=n.products)?[]:o,n=e(n,["context","timestamp","products"]),o.forEach((function(e){return r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:an({},e)})})),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/cart/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"add_to_cart"}),r,i)}))}function ze(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;o=void 0===(o=n.products)?[]:o,n=e(n,["context","timestamp","products"]),o.forEach((function(e){return r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:an({},e)})})),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/cart/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"remove_from_cart"}),r,i)}))}function Ge(n,t){void 0===t&&(t=Object.keys(ot));var o=0,r=n.context,i=void 0===r?[]:r,a=n.timestamp;r=void 0===(r=n.products)?[]:r,n=e(n,["context","timestamp","products"]),r.forEach((function(e){e.quantity&&(o+=e.quantity),i.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:e})})),i.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/transaction/jsonschema/1-0-0",data:an({total_quantity:o||void 0},n)}),de(t,ot,(function(e){e.core.track(Le({type:"transaction"}),i,a)}))}function qe(e,n){return e.filter((function(e){return e.schema!==n}))}function He(e,n){return e.map((function(e){return{currency:n,id:e.id||e.name,price:Number(e.price),name:e.name,position:e.position,brand:e.brand,category:e.category,variant:e.variant,quantity:e.quantity}}))}function Je(e){return e.map((function(e){return{name:e.name,slot:e.position,id:e.id||e.name,creative_id:e.creative}}))}function We(e,n){var t=e.categorySeparator,o=void 0===t?"/":t;return e.items.map((function(e){var t=[e.item_category,e.item_category2,e.item_category3,e.item_category4,e.item_category5].filter(Boolean).join(o);return{currency:n,id:e.item_id,name:e.item_name,list_price:e.price,price:+(Math.round(e.price-(e.discount||0)+"e+2")+"e-2"),position:e.index,brand:e.item_brand,category:t,variant:e.item_variant,quantity:e.quantity}}))}function Ze(e){var n=e.items.map((function(e){return e.item_id}));return{id:e.promotion_id,name:e.promotion_name,creative_id:e.creative_name,slot:e.creative_slot,product_ids:n}}function Xe(e){var n,t={};for(n in e)null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]);return t}function Qe(){var e;return{activateBrowserPlugin:function(n){e=n.id,at[e]=n}}}function Ye(n,t){void 0===t&&(t=Object.keys(at));var o=n.context,r=n.timestamp,i=e(n,["context","timestamp"]);de(t,at,(function(e){e.core.track(O({event:{schema:"iglu:com.snowplowanalytics.snowplow/consent_preferences/jsonschema/1-0-0",data:Xe(an({},i))}}),o,r)}))}function Ke(){return{activateBrowserPlugin:function(e){ut[e.id]=e}}}function $e(e,n){void 0===n&&(n=Object.keys(ut)),de(n,ut,(function(n){var t=(n=n.core).track,o={schema:"iglu:com.snowplowanalytics.snowplow/button_click/jsonschema/1-0-0",data:j({label:e.label,id:e.id,classes:e.classes,name:e.name})};o=O({event:o}),t.call(n,o,e.context,e.timestamp)}))}function en(e){void 0===e&&(e=Object.keys(ut)),e.forEach((function(e){st[e]&&document.removeEventListener("click",st[e],!0)}))}function nn(e){return[{schema:"iglu:org.w3/PerformanceNavigationTiming/jsonschema/1-0-0",data:"entryType duration nextHopProtocol workerStart redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart secureConnectionStart connectEnd requestStart responseStart responseEnd transferSize encodedBodySize decodedBodySize serverTiming unloadEventStart unloadEventEnd domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd type redirectCount activationStart deliveryType".split(" ").reduce((function(n,t){var o=e[t];return"serverTiming"===t&&Array.isArray(o)?n[t]=o.length?o.map((function(e){return{description:e.description,duration:e.duration,name:e.name}})):void 0:o&&(n[t]=o),n}),{})}]}function tn(){return{activateBrowserPlugin:function(){"undefined"!=typeof PerformanceObserver&&new PerformanceObserver((function(e){0<(e=e.getEntries()[0]).loadEventEnd&&(zn=nn(e))})).observe({type:"navigation",buffered:!0})},contexts:function(){var e;return(e=zn)||(e=(e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{}).getEntriesByType&&(e=e.getEntriesByType("navigation")[0])?nn(e):[]),e}}}function on(e){function n(n){return function(t){e[n]=t.value,e.navigationType=t.navigationType}}var t,o,r,i,a,c,u=window.webVitals;u?(null===(t=u.onCLS)||void 0===t||t.call(u,n("cls")),null===(o=u.onFID)||void 0===o||o.call(u,n("fid")),null===(r=u.onLCP)||void 0===r||r.call(u,n("lcp")),null===(i=u.onFCP)||void 0===i||i.call(u,n("fcp")),null===(a=u.onINP)||void 0===a||a.call(u,n("inp")),null===(c=u.onTTFB)||void 0===c||c.call(u,n("ttfb"))):vn.warn("The window.webVitals API is currently unavailable. web_vitals events will not be collected.")}function rn(e){void 0===e&&(e=pt);var n,t,o={},r=an(an({},pt),e);return{activateBrowserPlugin:function(e){n=e.id,ft[n]=e,r.loadWebVitalsScript&&(t=function(e){var n=document.createElement("script");return n.setAttribute("src",e),n.setAttribute("async","1"),n.addEventListener("error",(function(){vn.error("Failed to load ".concat(e))})),document.head.appendChild(n),n}(r.webVitalsSource)),mt||(t?t.addEventListener("load",(function(){return on(o)})):on(o),function(e){if(-1!==(PerformanceObserver&&PerformanceObserver.supportedEntryTypes||[]).indexOf("layout-shift")){var n=function(){"hidden"===document.visibilityState&&(e(),window.removeEventListener("visibilitychange",n,!0))};window.addEventListener("visibilitychange",n,!0)}else window.addEventListener("pagehide",e,{capture:!0,once:!0})}((function(){Object.keys(o).length&&de(Object.keys(ft),ft,(function(e){var n;e.core.track(O({event:{schema:"iglu:com.snowplowanalytics.snowplow/web_vitals/jsonschema/1-0-0",data:o}}),l(null!==(n=r.context)&&void 0!==n?n:[],o))}))})),mt=!0)}}}var an=function(){return an=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},an.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;for(var cn=[],un=0;256>un;++un)cn.push((un+256).toString(16).slice(1));var sn,ln,dn,fn=new Uint8Array(16),mn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(dn=ln||(ln={}))[dn.none=0]="none",dn[dn.error=1]="error",dn[dn.warn=2]="warn",dn[dn.debug=3]="debug",dn[dn.info=4]="info";var vn=function(e){return void 0===e&&(e=ln.warn),{setLogLevel:function(n){e=ln[n]?n:ln.warn},warn:function(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e>=ln.warn&&"undefined"!=typeof console&&(i="Snowplow: "+n,t?console.warn.apply(console,o([i+"\n",t],r,!1)):console.warn.apply(console,o([i],r,!1)))},error:function(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e>=ln.error&&"undefined"!=typeof console&&(i="Snowplow: "+n+"\n",t?console.error.apply(console,o([i+"\n",t],r,!1)):console.error.apply(console,o([i],r,!1)))},debug:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e>=ln.debug&&"undefined"!=typeof console&&console.debug.apply(console,o(["Snowplow: "+n],t,!1))},info:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e>=ln.info&&"undefined"!=typeof console&&console.info.apply(console,o(["Snowplow: "+n],t,!1))}}}(),gn={},hn={};!function(){var e={rotl:function(e,n){return e<<n|e>>>32-n},rotr:function(e,n){return e<<32-n|e>>>n},endian:function(n){if(n.constructor==Number)return 16711935&e.rotl(n,8)|4278255360&e.rotl(n,24);for(var t=0;t<n.length;t++)n[t]=e.endian(n[t]);return n},randomBytes:function(e){for(var n=[];0<e;e--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(e){for(var n=[],t=0,o=0;t<e.length;t++,o+=8)n[o>>>5]|=e[t]<<24-o%32;return n},wordsToBytes:function(e){for(var n=[],t=0;t<32*e.length;t+=8)n.push(e[t>>>5]>>>24-t%32&255);return n},bytesToHex:function(e){for(var n=[],t=0;t<e.length;t++)n.push((e[t]>>>4).toString(16)),n.push((15&e[t]).toString(16));return n.join("")},hexToBytes:function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(parseInt(e.substr(t,2),16));return n},bytesToBase64:function(e){for(var n=[],t=0;t<e.length;t+=3)for(var o=e[t]<<16|e[t+1]<<8|e[t+2],r=0;4>r;r++)8*t+6*r<=8*e.length?n.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-r)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],t=0,o=0;t<e.length;o=++t%4)0!=o&&n.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t-1))&Math.pow(2,-2*o+8)-1)<<2*o|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t))>>>6-2*o);return n}};hn=e}();var yn={utf8:{stringToBytes:function(e){return yn.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(yn.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var n=[],t=0;t<e.length;t++)n.push(255&e.charCodeAt(t));return n},bytesToString:function(e){for(var n=[],t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return n.join("")}}},wn=yn;!function(){var e=hn,n=wn.utf8,t=wn.bin,o=function(o,r){var i=e.wordsToBytes,a=o;a.constructor==String?a=n.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),o=e.bytesToWords(a);var c=8*a.length;a=[];var u=1732584193,s=-271733879,l=-1732584194,d=271733878,f=-1009589776;for(o[c>>5]|=128<<24-c%32,o[15+(c+64>>>9<<4)]=c,c=0;c<o.length;c+=16){for(var m=u,p=s,v=l,g=d,h=f,y=0;80>y;y++){if(16>y)a[y]=o[c+y];else{var w=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=w<<1|w>>>31}w=(u<<5|u>>>27)+f+(a[y]>>>0)+(20>y?1518500249+(s&l|~s&d):40>y?1859775393+(s^l^d):60>y?(s&l|s&d|l&d)-1894007588:(s^l^d)-899497514),f=d,d=l,l=s<<30|s>>>2,s=u,u=w}u+=m,s+=p,l+=v,d+=g,f+=h}return i=i.call(e,[u,s,l,d,f]),r&&r.asBytes?i:r&&r.asString?t.bytesToString(i):e.bytesToHex(i)};o._blocksize=16,o._digestsize=20,gn=o}();var kn,bn,Tn=gn,Cn={sessionId:!0,sourceId:!0,sourcePlatform:!1,userId:!1,reason:!1},_n=!1,Sn=null,En=function(){function e(e){return n[e]||(n[e]=function(e){function n(){void 0!==t&&(clearTimeout(t),t=void 0),i||(i=!0,void 0!==o&&X(e,o[0],o[1],o[2],o[3],o[4],o[5]))}var t,o,r,i=!0;return{getValue:function(){var n;return o&&(!r||r>new Date)&&null!==(n=o[0])&&void 0!==n?n:X(e)},setValue:function(e,a,c,u,s,l){return o=[e,a,c,u,s,l],i=!1,void 0===t&&(t=setTimeout((function(){t=void 0,n()}),10)),r=new Date(Date.now()+1e3*Math.min(.05,null!=a?a:.05)),!0},deleteValue:function(n,r,a,c){o=void 0,i=!0,void 0!==t&&(clearTimeout(t),t=void 0),Z(e,n,r,a,c)},flush:n}}(e)),n[e]}var n={};return{getCookie:function(n){return e(n).getValue()},setCookie:function(n,t,o,r,i,a,c){return e(n).setValue(t,o,r,i,a,c)},deleteCookie:function(n,t,o,r,i){e(n).deleteValue(t,o,r,i)},clearCache:function(){n={}},flush:function(){for(var e=0,t=Object.values(n);e<t.length;e++)t[e].flush()}}}(),Pn={getCookie:X,setCookie:function(e,n,t,o,r,i,a){return X(e,n,t,o,r,i,a),-1!==document.cookie.indexOf("".concat(e,"="))},deleteCookie:Z,flush:function(){}},xn={},On=function(){this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},An="undefined"!=typeof window?pe():void 0,jn=Object.freeze({__proto__:null,addGlobalContexts:function(e,n){le(n,(function(n){n.core.addGlobalContexts(e)}))},addPlugin:function(e,n){le(n,(function(n){n.addPlugin(e)}))},clearGlobalContexts:function(e){le(e,(function(e){e.core.clearGlobalContexts()}))},clearUserData:function(e,n){le(n,(function(n){n.clearUserData(e)}))},crossDomainLinker:function(e,n){le(n,(function(n){n.crossDomainLinker(e)}))},disableActivityTracking:function(e){le(e,(function(e){e.disableActivityTracking()}))},disableActivityTrackingCallback:function(e){le(e,(function(e){e.disableActivityTrackingCallback()}))},disableAnonymousTracking:function(e,n){le(n,(function(n){n.disableAnonymousTracking(e)}))},discardBrace:function(e,n){le(n,(function(n){n.discardBrace(e)}))},discardHashTag:function(e,n){le(n,(function(n){n.discardHashTag(e)}))},enableActivityTracking:function(e,n){le(n,(function(n){n.enableActivityTracking(e)}))},enableActivityTrackingCallback:function(e,n){le(n,(function(n){n.enableActivityTrackingCallback(e)}))},enableAnonymousTracking:function(e,n){le(n,(function(n){n.enableAnonymousTracking(e)}))},flushBuffer:function(e,n){le(n,(function(n){n.flushBuffer(e)}))},newSession:function(e){le(e,(function(e){e.newSession()}))},newTracker:function(e,n,t){if(An)return fe(e,e,"js-".concat("4.6.6"),n,An,t)},preservePageViewId:function(e){le(e,(function(e){e.preservePageViewId()}))},removeGlobalContexts:function(e,n){le(n,(function(n){n.core.removeGlobalContexts(e)}))},setBufferSize:function(e,n){le(n,(function(n){n.setBufferSize(e)}))},setCollectorUrl:function(e,n){le(n,(function(n){n.setCollectorUrl(e)}))},setCookiePath:function(e,n){le(n,(function(n){n.setCookiePath(e)}))},setCustomUrl:function(e,n){le(n,(function(n){n.setCustomUrl(e)}))},setDocumentTitle:function(e,n){le(n,(function(n){n.setDocumentTitle(e)}))},setOptOutCookie:function(e,n){le(n,(function(n){n.setOptOutCookie(e)}))},setReferrerUrl:function(e,n){le(n,(function(n){n.setReferrerUrl(e)}))},setUserId:function(e,n){le(n,(function(n){n.setUserId(e)}))},setUserIdFromCookie:function(e,n){le(n,(function(n){n.setUserIdFromCookie(e)}))},setUserIdFromLocation:function(e,n){le(n,(function(n){n.setUserIdFromLocation(e)}))},setUserIdFromReferrer:function(e,n){le(n,(function(n){n.setUserIdFromReferrer(e)}))},setVisitorCookieTimeout:function(e,n){le(n,(function(n){n.setVisitorCookieTimeout(e)}))},trackPageView:function(e,n){le(n,(function(n){n.trackPageView(e)}))},trackSelfDescribingEvent:function(e,n){le(n,(function(n){n.core.track(O({event:e.event}),e.context,e.timestamp)}))},trackStructEvent:function(e,n){le(n,(function(n){var t=(n=n.core).track,o=e.category,r=e.action,i=e.label,c=e.property,u=e.value,s=a();s.add("e","se"),s.add("se_ca",o),s.add("se_ac",r),s.add("se_la",i),s.add("se_pr",c),s.add("se_va",null==u?void 0:u.toString()),t.call(n,s,e.context,e.timestamp)}))},updatePageActivity:function(e){le(e,(function(e){e.updatePageActivity()}))},SharedState:On,version:"4.6.6"}),In={ua:!1,ga4:!0,ga4MeasurementId:"",cookiePrefix:[]},Ln=Object.freeze({__proto__:null,GaCookiesPlugin:ve}),Un=["a","area"],Bn=Un.join(", "),Rn=/^(javascript|vbscript|jscript|mocha|livescript|ecmascript):/i,Dn={},Nn={},Vn={},Fn=void 0,Mn=Object.freeze({__proto__:null,LinkClickTrackingPlugin:ge,disableLinkClickTracking:he,enableLinkClickTracking:function(e,n){void 0===e&&(e={}),void 0===n&&(n=Object.keys(Dn)),he(n),n.forEach((function(n){if(Dn[n]){var t=void 0===e?{}:e;Vn[n]={linkTrackingContent:t.trackContent,linkTrackingContext:t.context,linkTrackingPseudoClicks:t.pseudoClicks,linkTrackingFilter:Q(t.options)},Nn[n]=Nn[n]||we.bind(null,n),Vn[n].linkTrackingPseudoClicks?(J(window,"mouseup",Nn[n],!0),J(window,"mousedown",Nn[n],!0)):J(window,"click",Nn[n],!0)}}))},refreshLinkClickTracking:function(e){null==Fn||Fn.warn("refreshLinkClickTracking is deprecated in v4 and has no effect")},trackLinkClick:ye});!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(bn||(bn={}));var zn,Gn=[bn.CHANGE_FORM,bn.FOCUS_FORM,bn.SUBMIT_FORM],qn=function(e){return e},Hn={},Jn={},Wn={},Zn={},Xn={},Qn=Object.freeze({__proto__:null,FormTrackingPlugin:Pe,disableFormTracking:function(e){void 0===e&&(e=Object.keys(Xn)),e.forEach((function(e){Xn[e]&&ke(Xn[e])}))},enableFormTracking:function(e,n){void 0===e&&(e={}),void 0===n&&(n=Object.keys(Xn)),n.forEach((function(n){Xn[n]&&(ke(Xn[n]),function(e,n){var t,o=n.options;n=n.context;var r=function(e){if(e){var n=function(e){return!0},t=null;return function(e){return null!=e&&0<Array.prototype.slice.call(e).length}(e.forms)?t=e.forms:n=Q(e.forms),{forms:t,formFilter:n,fieldFilter:Y(e.fields),fieldTransform:_e(e.fields)}}return{forms:null,formFilter:function(){return!0},fieldFilter:function(){return!0},fieldTransform:qn}}(o),i=null!==(t=null==o?void 0:o.events)&&void 0!==t?t:Gn;t=Zn[e.id]=function(e,n){var t=null!=e?e:[document];return n&&Array.prototype.forEach.call(n,(function(e){t.push(e.ownerDocument.documentElement)})),t}(null==o?void 0:o.targets,r.forms),-1!==i.indexOf(bn.FOCUS_FORM)&&(Hn[e.id]=Ee(e,r,bn.FOCUS_FORM,n),t.forEach((function(n){return J(n,"focus",Hn[e.id],!0)}))),-1!==i.indexOf(bn.CHANGE_FORM)&&(Jn[e.id]=Ee(e,r,bn.CHANGE_FORM,n),t.forEach((function(n){return J(n,"change",Jn[e.id],!0)}))),-1!==i.indexOf(bn.SUBMIT_FORM)&&(Wn[e.id]=function(e,n,t){return function(o){var r;if(be(o=o.target,"FORM")&&n.formFilter(o)&&Ce(o,n.forms)){var i=[];(function(e){var n=[];return Array.prototype.forEach.call(e.elements,(function(e){if(Te(e)){var t=(e.type||"text").toLowerCase();if("submit"!==t&&"image"!==t){var o={elementData:{name:Se(e),value:e.value,nodeName:e.nodeName},originalElement:e};be(e,"INPUT")&&(o.elementData.type=t,"password"!==t&&("checkbox"!==t&&"radio"!==t||e.checked)||(o.elementData.value=null)),n.push(o)}}})),n})(o).forEach((function(e){var t=e.elementData;e=e.originalElement,n.fieldFilter(e)&&"password"!==e.type.toLowerCase()&&(t.value=n.fieldTransform(t.value,t,e),i.push(t))})),e.core.track(function(e){return O({event:{schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:j({formId:e.formId,formClasses:e.formClasses,elements:e.elements})}})}({formId:null!==(r=Se(o))&&void 0!==r?r:"",formClasses:K(o),elements:i}),l(t,o,i)),En.flush()}}}(e,r,n),t.forEach((function(n){return J(n,"submit",Wn[e.id],!0)})))}(Xn[n],e))}))}}),Yn={},Kn=Object.freeze({__proto__:null,ErrorTrackingPlugin:Oe,enableErrorTracking:function(e,n){void 0===e&&(e={}),void 0===n&&(n=Object.keys(Yn));var t=e.filter,o=e.contextAdder,r=e.context;J(window,"error",(function(e){if(t&&M(t)&&t(e)||null==t){var i=n,a=r||[];o&&M(o)&&(a=a.concat(o(e))),"message"in e?Ae({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error,context:a},i):e.target&&"tagName"in e.target?(e=e.target,Ae({message:"Non-script error on ".concat(e.tagName," element"),filename:e.src||void 0,context:a},i)):Ae({message:"JS Exception. Browser doesn't support ErrorEvent API",context:a},i)}}),!0)},trackError:Ae}),$n={},et=Object.freeze({__proto__:null,AdTrackingPlugin:je,trackAdClick:function(e,n){void 0===n&&(n=Object.keys($n)),de(n,$n,(function(n){var t=(n=n.core).track,o={schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:j({targetUrl:e.targetUrl,clickId:e.clickId,costModel:e.costModel,cost:e.cost,bannerId:e.bannerId,zoneId:e.zoneId,impressionId:e.impressionId,advertiserId:e.advertiserId,campaignId:e.campaignId})};o=O({event:o}),t.call(n,o,e.context,e.timestamp)}))},trackAdConversion:function(e,n){void 0===n&&(n=Object.keys($n)),de(n,$n,(function(n){var t=(n=n.core).track,o={schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:j({conversionId:e.conversionId,costModel:e.costModel,cost:e.cost,category:e.category,action:e.action,property:e.property,initialValue:e.initialValue,advertiserId:e.advertiserId,campaignId:e.campaignId})};o=O({event:o}),t.call(n,o,e.context,e.timestamp)}))},trackAdImpression:function(e,n){void 0===n&&(n=Object.keys($n)),de(n,$n,(function(n){var t=(n=n.core).track,o={schema:"iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0",data:j({impressionId:e.impressionId,costModel:e.costModel,cost:e.cost,targetUrl:e.targetUrl,bannerId:e.bannerId,zoneId:e.zoneId,advertiserId:e.advertiserId,campaignId:e.campaignId})};o=O({event:o}),t.call(n,o,e.context,e.timestamp)}))}}),nt={},tt=Object.freeze({__proto__:null,SiteTrackingPlugin:Ie,trackSiteSearch:function(e,n){void 0===n&&(n=Object.keys(nt)),de(n,nt,(function(n){var t=(n=n.core).track,o=O({event:{schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:j({terms:e.terms,filters:e.filters,totalResults:e.totalResults,pageResults:e.pageResults})}});t.call(n,o,e.context,e.timestamp)}))},trackSocialInteraction:function(e,n){void 0===n&&(n=Object.keys(nt)),de(n,nt,(function(n){var t=(n=n.core).track,o={schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:j({action:e.action,network:e.network,target:e.target})};o=O({event:o}),t.call(n,o,e.context,e.timestamp)}))},trackTiming:function(e,n){void 0===n&&(n=Object.keys(nt));var t=e.category,o=e.variable,r=e.timing,i=e.label,a=e.context,c=e.timestamp;de(n,nt,(function(e){e.core.track(O({event:{schema:"iglu:com.snowplowanalytics.snowplow/timing/jsonschema/1-0-0",data:{category:t,variable:o,timing:r,label:i}}}),a,c)}))}}),ot={},rt={},it=Object.freeze({__proto__:null,SnowplowEcommercePlugin:Ue,setEcommerceUser:function(e,n){void 0===n&&(n=Object.keys(ot));var t=e.id,o=e.is_guest,r=e.email;n.forEach((function(e){rt[e]&&(rt[e]=qe(rt[e],"iglu:com.snowplowanalytics.snowplow.ecommerce/user/jsonschema/1-0-0"),rt[e].push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/user/jsonschema/1-0-0",data:{id:t,is_guest:o,email:r}}))}))},setPageType:function(e,n){void 0===n&&(n=Object.keys(ot));var t=e.type,o=e.language,r=e.locale;n.forEach((function(e){rt[e]&&(rt[e]=qe(rt[e],"iglu:com.snowplowanalytics.snowplow.ecommerce/page/jsonschema/1-0-0"),rt[e].push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/page/jsonschema/1-0-0",data:{type:t,language:o,locale:r}}))}))},trackAddToCart:Me,trackCheckoutStep:Be,trackEnhancedEcommerceAddToCart:function(e,n){var t=e.currencyCode||n.currency;Me({products:e=He(e.add.products,t),total_value:n.finalCartValue,currency:t})},trackEnhancedEcommerceCheckoutStep:function(e,n){Be(an({step:e.checkout.actionField.step},n))},trackEnhancedEcommerceProductDetail:function(e,n){void 0===n&&(n={}),e=He(e.detail.products,e.currencyCode||n.currency),Fe(an({},e[0]))},trackEnhancedEcommerceProductListClick:function(e,n){void 0===n&&(n={}),n=He(e.click.products,e.currencyCode||n.currency)[0],De({name:e.click.actionField.list,product:n})},trackEnhancedEcommerceProductListView:function(e,n){void 0===n&&(n={}),n=He(e.impressions,e.currencyCode||n.currency),Re({name:e.impressions[0].list,products:n})},trackEnhancedEcommercePromoClick:function(e){Ve(e=Je(e.promoClick.promotions)[0])},trackEnhancedEcommercePromoView:function(e){e=Je(e.promoView.promotions);for(var n=0;n<e.length;n++)Ne(e[n])},trackEnhancedEcommercePurchase:function(e,n){var t=e.currencyCode||n.currency;Ge({products:He(e.purchase.products,t),transaction_id:e.purchase.actionField.id,currency:t,revenue:Number(e.purchase.actionField.revenue),payment_method:n.paymentMethod||"unknown",tax:Number(e.purchase.actionField.tax)||void 0,shipping:Number(e.purchase.actionField.shipping)||void 0})},trackEnhancedEcommerceRemoveFromCart:function(e,n){var t=e.currencyCode||n.currency;ze({products:e=He(e.remove.products,t),total_value:n.finalCartValue,currency:t})},trackGA4AddPaymentOptions:function(e,n){Be({step:n.step,payment_method:e.payment_type})},trackGA4AddShippingInfo:function(e,n){Be({step:n.step,delivery_method:e.shipping_tier})},trackGA4AddToCart:function(e,n){var t,o=e.currency||n.currency;n=null!==(t=e.finalCartValue)&&void 0!==t?t:n.finalCartValue,Me({products:e=We(e,o),total_value:n,currency:o})},trackGA4BeginCheckout:function(e){void 0===e&&(e={}),Be({step:e.step||1})},trackGA4RemoveFromCart:function(e,n){var t,o=e.currency||n.currency;n=null!==(t=e.finalCartValue)&&void 0!==t?t:n.finalCartValue,ze({products:e=We(e,o),total_value:n,currency:o})},trackGA4SelectItem:function(e,n){void 0===n&&(n={}),n=We(e,e.currency||n.currency)[0],De({name:e.item_list_id||e.item_list_name,product:n})},trackGA4SelectPromotion:function(e){Ve(e=Ze(e))},trackGA4Transaction:function(e,n){var t=e.currency||n.currency;Ge({products:We(e,t),transaction_id:e.transaction_id,currency:t,revenue:e.value,payment_method:n.paymentMethod||"unknown",tax:e.tax,shipping:e.shipping})},trackGA4ViewCart:function(){console.log("This function could be similarly tracked with the `setPageType` or `trackCheckoutStep` API.")},trackGA4ViewItem:function(e,n){void 0===n&&(n={}),e=We(e,e.currency||n.currency),Fe(an({},e[0]))},trackGA4ViewItemList:function(e,n){void 0===n&&(n={}),n=We(e,e.currency||n.currency),Re({name:e.item_list_id||e.item_list_name,products:n})},trackGA4ViewPromotion:function(e){Ne(e=Ze(e))},trackProductListClick:De,trackProductListView:Re,trackProductView:Fe,trackPromotionClick:Ve,trackPromotionView:Ne,trackRefund:function(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;o=void 0===(o=n.products)?[]:o,n=e(n,["context","timestamp","products"]),o.forEach((function(e){return r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/product/jsonschema/1-0-0",data:e})})),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/refund/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"refund"}),r,i)}))},trackRemoveFromCart:ze,trackTransaction:Ge,trackTransactionError:function(n,t){void 0===t&&(t=Object.keys(ot));var o=n.context,r=void 0===o?[]:o,i=n.timestamp;o=n.transaction,n=e(n,["context","timestamp","transaction"]),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/transaction/jsonschema/1-0-0",data:an({},o)}),r.push({schema:"iglu:com.snowplowanalytics.snowplow.ecommerce/transaction_error/jsonschema/1-0-0",data:an({},n)}),de(t,ot,(function(e){e.core.track(Le({type:"trns_error"}),r,i)}))}}),at={},ct=Object.freeze({__proto__:null,EnhancedConsentPlugin:Qe,trackCmpVisible:function(e,n){void 0===n&&(n=Object.keys(at));var t=e.context,o=e.timestamp,r=e.elapsedTime;de(n,at,(function(e){e.core.track(O({event:{schema:"iglu:com.snowplowanalytics.snowplow/cmp_visible/jsonschema/1-0-0",data:Xe(an({},{elapsedTime:r}))}}),t,o)}))},trackConsentAllow:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"allow_all"}),n)},trackConsentDeny:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"deny_all"}),n)},trackConsentExpired:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"expired"}),n)},trackConsentImplicit:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"implicit_consent"}),n)},trackConsentPending:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"pending"}),n)},trackConsentSelected:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"allow_selected"}),n)},trackConsentWithdrawn:function(e,n){void 0===n&&(n=Object.keys(at)),Ye(an(an({},e),{eventType:"withdrawn"}),n)}}),ut={},st={},lt=Object.freeze({__proto__:null,ButtonClickTrackingPlugin:Ke,disableButtonClickTracking:en,enableButtonClickTracking:function(e,n){void 0===e&&(e={}),void 0===n&&(n=Object.keys(ut)),en(n),n.forEach((function(n){var t,o;st[n]=function(t){e:{var o=function(e){if("function"==typeof e)return e;if("object"==typeof e){if("allowlist"in e)return function(n){return Array.from((null==n?void 0:n.classList)||[]).some((function(n){return e.allowlist.includes(n)}))};if("denylist"in e)return function(n){return!Array.from((null==n?void 0:n.classList)||[]).some((function(n){return e.denylist.includes(n)}))}}return function(){return!0}}(e.filter),r=e.defaultLabel,i=e.context;for(t=t.composed?t.composedPath()[0]:t.target;t;){if(t instanceof HTMLButtonElement||t instanceof HTMLInputElement&&"button"===t.type){if(o(t)){o=t;var a={};a.label="INPUT"===o.tagName?o.dataset.spButtonLabel||o.value:o.dataset.spButtonLabel||o.innerText||("function"==typeof r?r(o):r)||"(empty)",o.id&&(a.id=o.id),o.name&&(a.name=o.name),o.classList.length&&(a.classes=Array.from(o.classList)),(r=a).context=l(i,r,t),$e(r,[n])}break e}t=t.parentElement}}};var r=function(){document.addEventListener("click",st[n],!0)};null!==(t=ut[n])&&void 0!==t&&t.sharedState.hasLoaded?r():null===(o=ut[n])||void 0===o||o.sharedState.registeredOnLoadHandlers.push(r)}))},trackButtonClick:$e}),dt=Object.freeze({__proto__:null,PerformanceNavigationTimingPlugin:tn}),ft={},mt=!1,pt={loadWebVitalsScript:!0,webVitalsSource:"https://unpkg.com/web-vitals@4/dist/web-vitals.iife.js",context:[]},vt=Object.freeze({__proto__:null,WebVitalsPlugin:rn}),gt=window.GlobalSnowplowNamespace.shift(),ht=window[gt];ht.q=function(n,t){function o(e){var n=e.split(":");return[e=n[0],n=1<n.length?n[1].split(";"):void 0]}function r(e,n){if(h[e])try{h[e].apply(null,n)}catch(n){vn.error(e+" failed",n)}else vn.warn(e+" is not an available function")}function i(e){h=an(an({},h),e)}function a(t){if("string"!=typeof t[0]||"string"!=typeof t[1]||void 0!==t[2]&&"object"!=typeof t[2])vn.error("newTracker failed",Error("Invalid parameters"));else{var o="".concat(n,"_").concat(t[0]),r=t[2],a=function(n){var t,o=null!==(t=null==n?void 0:n.contexts)&&void 0!==t?t:{};o.performanceTiming,n=o.gaCookies,o.geolocation,o.clientHints,t=o.webVitals,o=o.performanceNavigationTiming;var r=[];if(n){var i=e(Ln,["GaCookiesPlugin"]);n="object"==typeof n?ve(n):ve(),r.push([n,i])}return i=e(Mn,["LinkClickTrackingPlugin"]),r.push([ge(),i]),i=e(Qn,["FormTrackingPlugin"]),r.push([Pe(),i]),i=e(Kn,["ErrorTrackingPlugin"]),r.push([Oe(),i]),i=e(et,["AdTrackingPlugin"]),r.push([je(),i]),i=e(tt,["SiteTrackingPlugin"]),r.push([Ie(),i]),i=e(it,["SnowplowEcommercePlugin"]),r.push([Ue(),i]),i=e(ct,["EnhancedConsentPlugin"]),r.push([Qe(),i]),i=e(lt,["ButtonClickTrackingPlugin"]),r.push([Ke(),i]),o&&(i=e(dt,["PerformanceNavigationTimingPlugin"]),r.push([tn(),i])),t&&(i=e(vt,["WebVitalsPlugin"]),r.push([rn("object"==typeof t?t:void 0),i])),r}(r);(o=fe(o,t[0],"js-".concat(g),t[1],d,an(an({},r),{plugins:a.map((function(e){return e[0]}))})))?(f.push(o.id),a.forEach((function(e){i(e[1])}))):vn.warn(t[0]+" already exists")}}function c(n,t){function o(e){Object.prototype.hasOwnProperty.call(m,e)&&(s.clearTimeout(m[e].timeout),delete m[e],0===Object.keys(m).length&&v.forEach((function(e){var n=e[1];void 0!==h[e[0]]&&h[e[0]].length>n.length&&Array.isArray(n[0])&&(n=[{},n[0]]),r(e[0],n)})))}var a;if("string"==typeof n[0]&&p(n[1])&&(void 0===n[2]||Array.isArray(n[2]))){var c=n[0],u=n[1],d=n[2];(null===(a=n[3])||void 0===a||a)&&(a=s.setTimeout((function(){o(c)}),5e3),m[c]={timeout:a}),(a=l.createElement("script")).setAttribute("src",c),a.setAttribute("async","1"),J(a,"error",(function(){o(c),vn.warn("Failed to load plugin ".concat(u[0]," from ").concat(c))}),!0),J(a,"load",(function(){var n=u[1],r=s[u[0]];if(r&&"object"==typeof r){var a=r[n];n=e(r,["symbol"==typeof n?n:n+""]),h.addPlugin.apply(null,[{plugin:a.apply(null,d)},t]),i(n)}o(c)}),!0),l.head.appendChild(a)}else{if("object"==typeof n[0]&&"string"==typeof n[1]&&(void 0===n[2]||Array.isArray(n[2]))){var f=n[0],g=n[1];if(a=n[2],f)return n=f[g],f=e(f,["symbol"==typeof g?g:g+""]),h.addPlugin.apply(null,[{plugin:n.apply(null,a)},t]),void i(f)}vn.warn("Failed to add Plugin: ".concat(n[1]))}}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(t=0;t<e.length;t+=1){var i=e[t],u=Array.prototype.shift.call(i);if(M(u))try{for(var s={},l=0,d=me(f,xn);l<d.length;l++){var p=d[l];s[p.id.replace("".concat(n,"_"),"")]=p}var g=Array.prototype.slice.call(i),y=Array.prototype.concat.apply(g,[s]);u.apply(s,y)}catch(e){vn.error("Tracker callback failed",e)}finally{continue}u=(s=o(u))[0],s=s[1],"newTracker"===u?a(i):(s=s?s.map((function(e){return"".concat(n,"_").concat(e)})):f,"addPlugin"===u?c(i,s):(l=void 0,l=0<i.length?[i[0],s]:void 0!==h[u]&&2===h[u].length?[{},s]:[s],0<Object.keys(m).length?v.push([u,l]):r(u,l)))}}for(var s=window,l=document,d=pe(),f=[],m={},v=[],g="4.6.6",h=e(jn,["version"]),y=0;y<t.length;y++)u(t[y]);return{push:u}}(gt,ht.q)}();